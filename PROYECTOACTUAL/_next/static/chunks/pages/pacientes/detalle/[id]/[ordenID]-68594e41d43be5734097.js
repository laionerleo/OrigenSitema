_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[89],{NpQ6:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pacientes/detalle/[id]/[ordenID]",function(){return l("ZAQ7")}])},ZAQ7:function(e,t,l){"use strict";l.r(t);var a=l("cpVT"),n=l("xvhg"),r=l("jT3O"),c=l("q1tI"),i=l.n(c),o=l("jRMg"),s=l("nOHt"),d=l("DFyN"),u=l("VreA"),m=l("YFqc"),f=l.n(m),b=l("6nGu"),p=l("gWdR"),v=l("z0WU"),O=l("B3WN"),g=l("wd/R"),h=l.n(g),N=l("33Fu"),w=l("IqVg"),x=l("qGs6"),j=l.n(x),D=l("qKvR"),y=i.a.createElement;function I(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function E(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?I(Object(l),!0).forEach((function(t){Object(a.a)(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):I(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function _(){var e=Object(r.a)(['\n  display: block;\n  margin: 0 auto;\n  border-color: "#000";\n']);return _=function(){return e},e}var q=Object(D.css)(_());t.default=Object(d.a)((function(){var e=Object(s.useRouter)(),t=Object(o.c)(u.j),l=Object(n.a)(t,1)[0],a=Object(c.useState)(!1),r=(a[0],a[1],Object(c.useState)([])),i=r[0],d=r[1],m=Object(c.useState)(null),g=m[0],x=m[1],D=Object(c.useState)(null),I=D[0],_=D[1],S=e.query,P=S.ordenID,k=S.id;Object(c.useEffect)((function(){var t;e.query.id&&(t=e.query.ordenID,l({variables:{id:t}}).then((function(t){var l=t.data,a=t.error;if(a){var n="";return a.graphQLErrors&&a.graphQLErrors.length>0&&a.graphQLErrors.map((function(e){n+="\n".concat(e.message," ")})),Object(w.a)("error",n),void e.push("/pacientes/detalle/".concat(k))}if(l&&l.getOrdenDetalles){if(0===l.getOrdenDetalles.length)return Object(w.a)("error","La Orden seleccionada no tiene analisis asignados."),void e.push("/pacientes/detalle/".concat(k));_(l.getOrdenDetalles)}if(l&&l.getOrden){var r=[];r.push({title:"Inicio",url:"/dashboard",last:!1}),r.push({title:"Gestion de pacientes",url:"/pacientes",last:!1}),r.push({title:"Historial de ".concat(l.getOrden.clientID.nombres," ").concat(l.getOrden.clientID.apellidos),url:"/pacientes/detalle/".concat(k),last:!1}),r.push({title:"Analisis orden #".concat(l.getOrden.ordenNumero),url:"".concat(P),last:!0}),d(r),x(l.getOrden)}})))}),[e.query]);return g?y("div",null,y("div",{className:"w-full px-4"},y("div",{className:"flex flex-row mb-4"},y("div",{className:"w-full"},y(b.a,{items:i,home:!0,icon:"arrow"}))),y("div",{className:"w-full py-2 px-0"},y(p.a,{title:"",description:y("span",null,"Datos de la orden"),right:y(f.a,{href:"/orden/edit/".concat(P)},y("a",{className:"link self-end"},"Editar Orden"))},y("div",{className:"flex flex-col lg:flex-row lg:flex-wrap w-full lg:space-x-4"},y("div",{className:"flex flex-col w-full"},y("div",{className:"text-sm mb-1"},"No. de Orden: ",g.ordenNumero),y("div",{className:"text-sm mb-1"},"Medico Solicitante: ",g.nombreMedico),y("div",{className:"text-sm mb-1"},"Fecha Solicitud:"," ",h()(g.fechaSolicitud).utc().format("DD/MM/YYYY")),y("div",{className:"text-sm mb-1"},"Tipo Cliente: ",g.proveedorID.nombre),y("div",{className:"text-sm mb-1"},"Nota/Informaci\xf3n clinica Relevante: ",g.nota)),y("div",{className:"w-full mt-5"},y("button",{onClick:function(e){Object(v.c)(g,I)},className:"inline-block px-6 py-1 mx-auto mb-3 text-xs font-medium leading-6 text-center text-white uppercase transition bg-blue-700 rounded-full shadow ripple hover:shadow-lg hover:bg-blue-800 focus:outline-none"},"Descargar Recibo")))),y(p.a,{title:"",description:y("span",null,"Datos del paciente"),right:y(f.a,{href:"/pacientes/edit/".concat(g.clientID.id)},y("a",{className:"link self-end"},"Editar Paciente"))},y("div",{className:"flex flex-col lg:flex-row lg:flex-wrap w-full lg:space-x-4"},y("div",{className:"flex flex-col w-3/4"},y("div",{className:"text-sm mb-1"},"Nombres: ",g.clientID.nombres),y("div",{className:"text-sm mb-1"},"Apellidos: ",g.clientID.apellidos),y("div",{className:"text-sm mb-1"},"DNI: ",g.clientID.ci),g.clientID.fecha_nacimiento?y("div",{className:"text-sm mb-1"},"Fecha Nacimiento: ",g.clientID.fecha_nacimiento):null))),y(p.a,{title:"",description:y("span",null,"Estudios Realizados")},y("div",{className:"flex flex-col w-full"},y("div",{className:"overflow-x-scroll lg:overflow-hidden"},y("table",{className:"table"},y("thead",null,y("tr",null,y("th",null,"Nombre"),y("th",null,"Precio"),y("th",null,"Estatus"),y("th",null,"Resultado"),y("th",null,"Acciones"))),y("tbody",null,I.map((function(e){return y("tr",{key:e.id},y("td",null,e.estudioID.nombre),y("td",null,e.precio),y("td",null,e.estadoEstudio),y("td",null,function(e){var t=e.camposEstudio,l=e.codigoEstudio,a=h()(e.fechaSolicitud).utc();if(["PCRCS","PCRC","C","ANTU","AA","ASC"].includes(l))return Object(v.q)(t,"resultado");if("E"===l||"ELICOV"===l){if(h()(a.format("YYYY-MM-DD")).isSameOrAfter("2022-01-15"))return"IGG: ".concat(Object(v.q)(t,"resultado_igg")," | IGM: ").concat(Object(v.q)(t,"resultado_igm"));if(h()(a.format("YYYY-MM-DD")).isSameOrBefore("2022-01-14"))return"IGG: ".concat(Object(v.m)(t,"resultado_igg")," | IGM: ").concat(Object(v.m)(t,"resultado_igm"))}if("ANT"===l){var n=Object(v.b)(Object(v.q)(t,"valor_muestra"),Object(v.q)(t,"cutoff"),h()()),r=Object(v.k)(n);return"".concat(r)}if("AN"===l){if(a.isSameOrBefore("2021-11-25")){var c=Object(v.a)(Object(v.q)(t,"valor_muestra"),Object(v.q)(t,"cutoff")),i=Object(v.g)(c);return"".concat(c,"%    ").concat(i," ")}var o=Object(v.b)(Object(v.q)(t,"valor_muestra"),Object(v.q)(t,"cutoff"),h()()),s=Object(v.k)(o);return"".concat(s)}return""}(e)),y("td",null,y(f.a,{href:"/orden/edit/".concat(g.id,"/edit/").concat(e.id)},y("button",{className:"inline-block p-1 text-center mx-1 text-white transition bg-blue-500 rounded-full shadow ripple hover:shadow-lg hover:bg-blue-600 focus:outline-none disabled:opacity-50"},y(N.b,{size:20}))),y(O.a,{size:"small",disabled:"PROCESADO"!==e.estadoEstudio,estudio:E(E({},e),{},{ordenID:{nombreMedico:g.nombreMedico}}),cliente:g.clientID,showConfirm:!0})))})))))))))):y("div",null,y("div",{className:"flex flex-row mb-4"},y("div",{className:"w-full"},y(b.a,{items:i,home:!0,icon:"arrow"}))),y("div",{className:"w-full px-4"},y("div",null,y(j.a,{css:q,size:80,color:"#000"}))))}))},gWdR:function(e,t,l){"use strict";var a=l("q1tI"),n=l.n(a).a.createElement;t.a=function(e){var t=e.title,l=void 0===t?null:t,a=e.description,r=void 0===a?null:a,c=e.right,i=void 0===c?null:c,o=e.children;return n("div",{className:"widget w-full p-4 mb-4 rounded-lg bg-white border border-gray-100 dark:bg-gray-900 dark:border-gray-800"},(l||r||i)&&n("div",{className:"flex flex-row items-center justify-between mb-6"},n("div",{className:"flex flex-col"},n("div",{className:"text-sm font-light text-gray-500"},l),n("div",{className:"text-sm font-bold"},r)),i),o)}}},[["NpQ6",0,1,4,10,5,11,7,22,2,3,6,8,9,12,14,13,26,28]]]);