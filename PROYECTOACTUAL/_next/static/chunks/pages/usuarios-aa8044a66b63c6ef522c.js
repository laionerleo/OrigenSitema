_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[110],{IqVg:function(n,t,i){"use strict";i.d(t,"a",(function(){return o}));i("wd/R");var e=i("FGyW"),o=(i("jDDT"),function(n,t){e.b[n](t,{position:"top-right",autoClose:"error"===n?4e3:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})})},L4s6:function(n,t,i){"use strict";var e=i("q1tI"),o=i.n(e).a.createElement;t.a=function(n){var t=n.title,i=n.subtitle,e=n.right,d=void 0===e?null:e;return o("div",{className:"section-title w-full mb-6 pt-3"},o("div",{className:"flex flex-row items-center justify-between mb-4"},o("div",{className:"flex flex-col"},o("div",{className:"text-xs uppercase font-light text-gray-500"},t),o("div",{className:"text-xl font-bold"},i)),d))}},QQO1:function(n,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/usuarios",function(){return i("c8ga")}])},c8ga:function(n,t,i){"use strict";i.r(t);var e=i("xvhg"),o=i("jT3O"),d=i("q1tI"),r=i.n(d),u=i("jRMg"),a=i("5zZm"),s=i("IqVg"),l=(i("TCCB"),i("6nGu")),c=i("L4s6"),p=i("nOHt"),m=(i("b1/7"),i("nqad"),i("iX8M")),f=i("VreA"),$=i("DFyN"),b=i("qGs6"),v=i.n(b),I=i("qKvR"),g=i("NIcq"),h=r.a.createElement;function P(){var n=Object(o.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: '#000';\n"]);return P=function(){return n},n}var E=Object(I.css)(P()),w={reactiveData:!0,layout:"fitColumns",pagination:"local",paginationSize:30};t.default=Object($.a)((function(){var n=Object(u.c)(f.db),t=Object(e.a)(n,1)[0],i=Object(u.d)(m.S),o=Object(e.a)(i,1)[0],r=Object(d.useState)([]),$=r[0],b=r[1],I=Object(d.useState)(!0),P=I[0],D=I[1],O=Object(d.useState)(!1),C=O[0],S=O[1],x=Object(p.useRouter)(),N=[{title:"Inicio",url:"/dashboard",last:!1},{title:"Gestion de usuarios",url:"/usuarios",last:!0}],z=function(){t({useCache:!0}).then((function(n){var t=n.data;if(n.error)return D(!1),void S(!1);t.getUsers&&(b(t.getUsers),S(!1),D(!1))}))},j=[{title:"",field:"custom",headerSort:!1,width:60,hozAlign:"center",formatter:Object(a.reactFormatter)(h((function(n){var t=n.cell._cell.row.data;return h("div",null,h("button",{className:"inline-block p-1 text-center mx-1 text-white transition bg-blue-500 rounded-full shadow ripple hover:shadow-lg hover:bg-blue-600 focus:outline-none",onClick:function(){x.push("/usuarios/detalle/".concat(t.id))}},h(g.a,null)))}),null))},{title:"Nombre",field:"nombre"},{title:"Apellido",field:"apellido"},{title:"Email",field:"email"},{title:"Rol",field:"role",editor:"select",headerSort:!1,editorParams:{values:[{label:"SuperAdmin",value:"super_admin"},{label:"Administrador",value:"admin"},{label:"Contabilidad",value:"contabilidad"},{label:"Contabilidad +",value:"contabilidad_"},{label:"Recepcionista",value:"default"},{label:"Doctor/Especialista",value:"doc"}]},cellEdited:function(n){var t=n.getRow().getData(),i=t.id,e=t.role;o({variables:{input:{id:i,role:e}}}).then((function(n){var t=n.data;n.error?Object(s.a)("error","Hubo un error al actualizar la informacion."):t.updateSystemUserPrivilegesUser&&Object(s.a)("success","Se actualizaron los privilegios del usuario correctamente.")}))},formatter:Object(a.reactFormatter)(h((function(n){switch(n.cell._cell.row.data.role){case"default":return h("p",null,"Recepcionista");case"contabilidad":return h("p",null,"Contabilidad");case"contabilidad_":return h("p",null,"Contabilidad + ");case"doc":return h("p",null,"Doctor/Especialista");case"admin":return h("p",null,"Administrador");case"super_admin":return h("p",null,"Super Admin");default:return h("p",null," Se debe actualizar")}}),null))},{title:"Habilitado",field:"approved",editor:"select",headerSort:!1,editorParams:{values:[{label:"SI",value:!0},{label:"NO",value:!1}]},cellEdited:function(n){var t=n.getRow().getData(),i=t.id,e=t.approved;o({variables:{input:{id:i,approved:e}}}).then((function(n){var t=n.data;n.error?Object(s.a)("error","Hubo un error al actualizar la informacion."):t.updateSystemUserPrivilegesUser&&Object(s.a)("success","Se actualiz\xf3 el permiso para acceder al sistema.")}))},formatter:Object(a.reactFormatter)(h((function(n){var t=n.cell._cell.row.data;return h("p",null,t.approved?"SI":"NO")}),null))}];return Object(d.useEffect)((function(){z()}),[]),P?h("div",null,h("div",{className:"flex flex-row mb-4"},h("div",{className:"w-full"},h(l.a,{items:N,home:!0,icon:"arrow"}))),h("div",{className:"w-full px-4"},h("div",null,h(v.a,{css:E,size:80,color:"#000"})))):h("div",null,h("div",{className:"w-full px-1"},h("div",{className:"flex flex-row mb-4"},h("div",{className:"w-full"},h(l.a,{items:N,home:!0,icon:"arrow"}))),h(c.a,{title:"",subtitle:"Gestion de Usuarios"}),h("div",{className:"inputs w-full py-0 px-0"},h("div",{className:"w-full px-3"},h("button",{className:"inline-block px-6 py-1 mt-0 mb-3 text-xs font-medium leading-6 text-center text-white uppercase transition bg-blue-700 rounded-full shadow ripple hover:shadow-lg hover:bg-blue-800 focus:outline-none float-right",type:"submit",onClick:function(n){n.preventDefault(),S(!0),z()}},C?h("svg",{className:" inline-block animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},h("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})):null,C?"Actualizando ":"Actualizar ")),h("div",{className:"w-full"},h(a.ReactTabulator,{ref:function(n){return n},columns:j,data:$,options:w})))))}))},iX8M:function(n,t,i){"use strict";i.d(t,"B",(function(){return e})),i.d(t,"L",(function(){return o})),i.d(t,"J",(function(){return d})),i.d(t,"F",(function(){return r})),i.d(t,"c",(function(){return u})),i.d(t,"t",(function(){return a})),i.d(t,"T",(function(){return s})),i.d(t,"H",(function(){return l})),i.d(t,"G",(function(){return c})),i.d(t,"M",(function(){return p})),i.d(t,"D",(function(){return m})),i.d(t,"N",(function(){return f})),i.d(t,"S",(function(){return $})),i.d(t,"j",(function(){return b})),i.d(t,"z",(function(){return v})),i.d(t,"r",(function(){return I})),i.d(t,"e",(function(){return g})),i.d(t,"f",(function(){return h})),i.d(t,"k",(function(){return P})),i.d(t,"A",(function(){return E})),i.d(t,"h",(function(){return w})),i.d(t,"P",(function(){return D})),i.d(t,"v",(function(){return O})),i.d(t,"n",(function(){return C})),i.d(t,"p",(function(){return S})),i.d(t,"a",(function(){return x})),i.d(t,"s",(function(){return N})),i.d(t,"l",(function(){return z})),i.d(t,"i",(function(){return j})),i.d(t,"y",(function(){return y})),i.d(t,"q",(function(){return A})),i.d(t,"I",(function(){return F})),i.d(t,"Q",(function(){return U})),i.d(t,"R",(function(){return _})),i.d(t,"E",(function(){return R})),i.d(t,"g",(function(){return T})),i.d(t,"x",(function(){return M})),i.d(t,"o",(function(){return k})),i.d(t,"w",(function(){return H})),i.d(t,"b",(function(){return V})),i.d(t,"C",(function(){return q})),i.d(t,"K",(function(){return B})),i.d(t,"O",(function(){return G})),i.d(t,"d",(function(){return Q})),i.d(t,"u",(function(){return X})),i.d(t,"m",(function(){return J}));var e="\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      id\n      token\n      email\n      nombre\n      apellido\n      role\n      compania\n      areasDeEstudio {\n        nombre\n        id\n      }\n    }\n  }\n",o="\n  mutation createUser($input: UserInput) {\n    createUser(input: $input)\n  }\n",d="\nmutation setPassword($hash: String!, $password: String!) {\n  setPassword(hash: $hash, password: $password)\n}\n",r="\nmutation forgotPassword($email: String!) {\n  forgotPassword(email: $email)\n}\n",u="\n  mutation addClient($input: ClientInput) {\n    addClient(input: $input) {\n      id\n      nombres\n      apellidos\n      ci\n      fecha_nacimiento\n      telefono\n      municipio\n      departamento\n      direccion\n      sexo\n      edad\n    }\n  }\n",a="\n  mutation editClient($input: ClientEditInput) {\n    editClient(input: $input) {\n      id\n      nombres\n      apellidos\n      ci\n      fecha_nacimiento\n      telefono\n      municipio\n      departamento\n      direccion\n      sexo\n      edad\n    }\n  }\n",s="\nmutation editTipoFicha($id: ID!, $tipoFicha: String!) {\n  editTipoFicha(id: $id, tipoFicha: $tipoFicha) {\n    codigo\n  }\n}\n",l="\nmutation setCodigoInterno($id: ID!, $codigoInterno: String!) {\n  setCodigoInterno(id: $id, codigoInterno: $codigoInterno) {\n    codigoInterno\n  }\n}\n",c="\n  mutation setConciliacionFicha($input: FichaConciliacionInput) {\n    setConciliacionFicha(input: $input) {\n      codigo\n    }\n  }\n",p="\nmutation loadReports($informes: [Reportes]) {\n  loadReports(informes: $informes)\n}\n",m="\n  mutation deleteClient($id: ID) {\n    deleteClient(id: $id)\n  }\n",f="\nmutation updateUser($input: UserEditInput) {\n  updateUser(input: $input) {\n    id\n    email\n    nombre\n    apellido\n    role\n    permissions\n    approved\n    compania\n    keywords\n  }\n}\n",$="\n  mutation updateSystemUserPrivilegesUser($input: UserPrivilegesInput) {\n    updateSystemUserPrivilegesUser(input: $input) {\n      id\n      nombre\n      role\n      approved\n    }\n  }\n",b="\nmutation addTipoDeMuestra($input: TipoDeMuestraInput) {\n  addTipoDeMuestra(input: $input) {\n    nombre\n    description\n    estatus\n    id\n  }\n}\n",v="\nmutation editTipoDeMuestra($id: ID!, $input: TipoDeMuestraInput) {\n  editTipoDeMuestra(id: $id, input: $input) {\n    nombre\n    description\n    id\n    estatus\n  }\n}\n",I="\nmutation deleteTipoDeMuestra($id: ID!) {\n  deleteTipoDeMuestra(id: $id)\n}\n",g="\nmutation addEstudio($input: EstudioInput) {\n  addEstudio(input: $input) {\n    id\n    nombre\n    codigo\n    description\n    metodo\n    estatus\n    areaDeEstudioID {\n      nombre\n    }\n    tipoDeMuestras {\n      nombre\n    }\n  }\n}\n",h="\nmutation addHistorial($input: HistorialPrecioPorProveedorInput) {\n    addHistorial(input: $input) {\n        id\n        precio\n        fecha_inicio    \n        fecha_limite    \n        estudioID\n        proveedorID\n  }\n}\n",P="\nmutation addVacuna($input: VacunaInput) {\n    addVacuna(input: $input) {\n        id\n        dosisPrimera\n        dosisSegunda\n        dosisUnica\n        dosisRefuerzoPrimero\n        dosisRefuerzoSegundo\n        clientID\n        fechaUltimoTest\n  }\n}\n",E="\nmutation editVacuna($input: VacunaEditInput) {\n    editVacuna(input: $input) {\n        id\n        dosisPrimera\n        dosisSegunda\n        dosisUnica\n        dosisRefuerzoPrimero\n        dosisRefuerzoSegundo\n        fechaUltimoTest\n    }\n}\n",w="\nmutation addPerfil($input: PerfilInput) {\n  addPerfil(input: $input) {\n    id\n    nombre\n    estatus\n    estudios {\n      id\n      nombre\n      precio\n    }\n  }\n}\n",D="\nmutation updatePerfil($id: ID!, $input: PerfilInput) {\n  updatePerfil(id: $id, input: $input) {\n    id\n    nombre\n    estatus\n    estudios {\n      id\n      nombre\n      precio\n    }\n  }\n}\n",O="\nmutation editEstudio($id: ID!, $input: EstudioInput) {\n  editEstudio(id: $id, input: $input) {\n    id\n    nombre\n    codigo\n    description\n    metodo\n    estatus\n    areaDeEstudioID {\n      nombre\n    }\n    tipoDeMuestras {\n      nombre\n    }\n  }\n}\n",C="\nmutation deleteEstudio($id: ID!) {\n  deleteEstudio(id: $id)\n}\n",S="\nmutation deletePerfil($id: ID!) {\n  deletePerfil(id: $id)\n}\n",x="\nmutation addAreaEstudio($input: AreaEstudioInput) {\n  addAreaEstudio(input: $input) {\n    nombre\n    id\n  }\n}\n",N="\nmutation editAreaEstudio($id: ID!, $input: AreaEstudioInput) {\n  editAreaEstudio(id: $id, input: $input) {\n    nombre\n    id\n  }\n}\n",z="\nmutation deleteAreaEstudio($id: ID!) {\n  deleteAreaEstudio(id: $id)\n}\n",j="\nmutation addProveedor($input: ProveedorInput) {\n  addProveedor(input: $input) {\n    id\n    nombre\n    description\n    estatus\n  }\n}\n",y="\nmutation editProveedor($id: ID!, $input: ProveedorInput) {\n  editProveedor(id: $id, input: $input) {\n    id\n    nombre\n    description\n    estatus\n  }\n}\n",A="\nmutation deleteProveedor($id: ID!) {\n  deleteProveedor(id: $id)\n}\n",F="\nmutation setPrecioEstudio($input: PreciosPorOrdenInput) {\n  setPrecioEstudio(input: $input) {\n    id\n  }\n}\n",U="\nmutation updatePrecioProveedor($id: ID!, $input: PreciosPorOrdenInput) {\n  updatePrecioProveedor(id: $id, input: $input) {\n    id\n  }\n}\n",_="\nmutation updatePrecioOrdenPorEstudio($id: ID!, $input: PreciosPorOrdenEstudioInput) {\n  updatePrecioOrdenPorEstudio(id: $id, input: $input) {\n    id\n  }\n}\n",R="\nmutation deleteItem($id: ID!) {\n  deleteItem(id: $id)\n}\n",T="\nmutation addOrden($input: OrdenInput, $estudios: [EstudioPorOrdenInput]) {\n  addOrden(input: $input, estudios: $estudios) {\n    id\n    fechaSolicitud\n  }\n}\n",M="\nmutation editOrden($id: ID!, $input: OrdenInput, $estudios: [EstudioEditPrecio]) {\n  editOrden(id: $id, input: $input, estudios: $estudios) {\n    id\n  }\n}\n",k="\nmutation deleteOrden($id: ID!) {\n  deleteOrden(id: $id)\n}\n",H="\nmutation editDataEstudio($id: ID!, $input: EstudioPorOrdenEditSimpleInput) {\n  editDataEstudio(id: $id, input: $input) {\n    id\n    codigoEstudio\n  }\n}\n",V="\nmutation addAttachmentFileEstudioPorOrden($id: ID, $file: Upload) {\n  addAttachmentFileEstudioPorOrden(id: $id, file: $file) {\n    id\n    attachmentFiles {\n      id\n      name\n      mimeType\n      url\n    }\n  }\n}\n",q="\nmutation removeAttachmentFileEstudioPorOrden($id: ID, $fileId: ID) {\n  removeAttachmentFileEstudioPorOrden(id: $id, fileId: $fileId) {\n    id\n    attachmentFiles {\n      id\n      name\n      mimeType\n      url\n    }\n  }\n}\n",B="\nmutation setResultEstudio($id: ID!, $input: EstudioPorOrdenSetResultInput) {\n  setResultEstudio(id: $id, input: $input) {\n    id\n    codigoEstudio\n  }\n}\n",G="\nmutation updateOrderByFile($ordenes: [OrdenConciliacionByFileInput]) {\n  updateOrderByFile(ordenes: $ordenes)\n}\n",Q="\nmutation addCotizacion($input: CotizacionInput, $estudios: [EstudioPorCotizacionInput]) {\n  addCotizacion(input: $input, estudios: $estudios) {\n    id\n    fechaSolicitud\n  }\n}\n",X="\nmutation editCotizacion($id: ID!, $input: CotizacionInput, $estudios: [EstudioEditPrecio]) {\n  editCotizacion(id: $id, input: $input, estudios: $estudios) {\n    id\n  }\n}\n",J="\nmutation deleteCotizacion($id: ID!) {\n  deleteCotizacion(id: $id)\n}\n"}},[["QQO1",0,1,4,10,5,11,7,20,35,2,3,6,8,9,12,14,13,19,21]]]);