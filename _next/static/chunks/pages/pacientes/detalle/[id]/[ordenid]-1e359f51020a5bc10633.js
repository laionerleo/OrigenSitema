_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[90],{NpQ6:function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pacientes/detalle/[id]/[ordenID]",function(){return c("ZAQ7")}])},ZAQ7:function(e,t,c){"use strict";c.r(t);var r=c("rePB"),s=c("ODXe"),i=c("h4VS"),n=c("nKUr"),l=c("q1tI"),a=c("jRMg"),o=c("nOHt"),d=c("DFyN"),j=c("VreA"),b=c("YFqc"),u=c.n(b),O=c("6nGu"),h=c("gWdR"),x=c("z0WU"),f=c("B3WN"),m=c("wd/R"),p=c.n(m),v=c("33Fu"),g=c("IqVg"),N=c("qGs6"),w=c.n(N),D=c("qKvR");function y(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function I(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?y(Object(c),!0).forEach((function(t){Object(r.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):y(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function E(){var e=Object(i.a)(['\n  display: block;\n  margin: 0 auto;\n  border-color: "#000";\n']);return E=function(){return e},e}var _=Object(D.css)(E());t.default=Object(d.a)((function(){var e=Object(o.useRouter)(),t=Object(a.c)(j.j),c=Object(s.a)(t,1)[0],r=Object(l.useState)(!1),i=(r[0],r[1],Object(l.useState)([])),d=i[0],b=i[1],m=Object(l.useState)(null),N=m[0],D=m[1],y=Object(l.useState)(null),E=y[0],q=y[1],S=e.query,P=S.ordenID,A=S.id;Object(l.useEffect)((function(){var t;e.query.id&&(t=e.query.ordenID,c({variables:{id:t}}).then((function(t){var c=t.data,r=t.error;if(r){var s="";return r.graphQLErrors&&r.graphQLErrors.length>0&&r.graphQLErrors.map((function(e){s+="\n".concat(e.message," ")})),Object(g.a)("error",s),void e.push("/pacientes/detalle/".concat(A))}if(c&&c.getOrdenDetalles){if(0===c.getOrdenDetalles.length)return Object(g.a)("error","La Orden seleccionada no tiene analisis asignados."),void e.push("/pacientes/detalle/".concat(A));q(c.getOrdenDetalles)}if(c&&c.getOrden){var i=[];i.push({title:"Inicio",url:"/dashboard",last:!1}),i.push({title:"Gestion de pacientes",url:"/pacientes",last:!1}),i.push({title:"Historial de ".concat(c.getOrden.clientID.nombres," ").concat(c.getOrden.clientID.apellidos),url:"/pacientes/detalle/".concat(A),last:!1}),i.push({title:"Analisis orden #".concat(c.getOrden.ordenNumero),url:"".concat(P),last:!0}),b(i),D(c.getOrden)}})))}),[e.query]);var k=function(e){var t=e.camposEstudio,c=e.codigoEstudio,r=p()(e.fechaSolicitud).utc();if(["PCRCS","PCRC","C","ANTU","AA","ASC"].includes(c))return Object(x.q)(t,"resultado");if("E"===c||"ELICOV"===c){if(p()(r.format("YYYY-MM-DD")).isSameOrAfter("2022-01-15"))return"IGG: ".concat(Object(x.q)(t,"resultado_igg")," | IGM: ").concat(Object(x.q)(t,"resultado_igm"));if(p()(r.format("YYYY-MM-DD")).isSameOrBefore("2022-01-14"))return"IGG: ".concat(Object(x.m)(t,"resultado_igg")," | IGM: ").concat(Object(x.m)(t,"resultado_igm"))}if("ANT"===c){var s=Object(x.b)(Object(x.q)(t,"valor_muestra"),Object(x.q)(t,"cutoff"),p()()),i=Object(x.k)(s);return"".concat(i)}if("AN"===c){if(r.isSameOrBefore("2021-11-25")){var n=Object(x.a)(Object(x.q)(t,"valor_muestra"),Object(x.q)(t,"cutoff")),l=Object(x.g)(n);return"".concat(n,"%    ").concat(l," ")}var a=Object(x.b)(Object(x.q)(t,"valor_muestra"),Object(x.q)(t,"cutoff"),p()()),o=Object(x.k)(a);return"".concat(o)}return""};return N?Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"w-full px-4",children:[Object(n.jsx)("div",{className:"flex flex-row mb-4",children:Object(n.jsx)("div",{className:"w-full",children:Object(n.jsx)(O.a,{items:d,home:!0,icon:"arrow"})})}),Object(n.jsxs)("div",{className:"w-full py-2 px-0",children:[Object(n.jsx)(h.a,{title:"",description:Object(n.jsx)("span",{children:"Datos de la orden"}),right:Object(n.jsx)(u.a,{href:"/orden/edit/".concat(P),children:Object(n.jsx)("a",{className:"link self-end",children:"Editar Orden"})}),children:Object(n.jsxs)("div",{className:"flex flex-col lg:flex-row lg:flex-wrap w-full lg:space-x-4",children:[Object(n.jsxs)("div",{className:"flex flex-col w-full",children:[Object(n.jsxs)("div",{className:"text-sm mb-1",children:["No. de Orden: ",N.ordenNumero]}),Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Medico Solicitante: ",N.nombreMedico]}),Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Fecha Solicitud:"," ",p()(N.fechaSolicitud).utc().format("DD/MM/YYYY")]}),Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Tipo Cliente: ",N.proveedorID.nombre]}),Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Nota/Informaci\xf3n clinica Relevante: ",N.nota]})]}),Object(n.jsx)("div",{className:"w-full mt-5",children:Object(n.jsx)("button",{onClick:function(e){Object(x.c)(N,E)},className:"inline-block px-6 py-1 mx-auto mb-3 text-xs font-medium leading-6 text-center text-white uppercase transition bg-blue-700 rounded-full shadow ripple hover:shadow-lg hover:bg-blue-800 focus:outline-none",children:"Descargar Recibo"})})]})}),Object(n.jsx)(h.a,{title:"",description:Object(n.jsx)("span",{children:"Datos del paciente"}),right:Object(n.jsx)(u.a,{href:"/pacientes/edit/".concat(N.clientID.id),children:Object(n.jsx)("a",{className:"link self-end",children:"Editar Paciente"})}),children:Object(n.jsx)("div",{className:"flex flex-col lg:flex-row lg:flex-wrap w-full lg:space-x-4",children:Object(n.jsxs)("div",{className:"flex flex-col w-3/4",children:[Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Nombres: ",N.clientID.nombres]}),Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Apellidos: ",N.clientID.apellidos]}),Object(n.jsxs)("div",{className:"text-sm mb-1",children:["DNI: ",N.clientID.ci]}),N.clientID.fecha_nacimiento?Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Fecha Nacimiento: ",N.clientID.fecha_nacimiento]}):null]})})}),Object(n.jsx)(h.a,{title:"",description:Object(n.jsx)("span",{children:"Estudios Realizados"}),children:Object(n.jsx)("div",{className:"flex flex-col w-full",children:Object(n.jsx)("div",{className:"overflow-x-scroll lg:overflow-hidden",children:Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Nombre"}),Object(n.jsx)("th",{children:"Precio"}),Object(n.jsx)("th",{children:"Estatus"}),Object(n.jsx)("th",{children:"Resultado"}),Object(n.jsx)("th",{children:"Acciones"})]})}),Object(n.jsx)("tbody",{children:E.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.estudioID.nombre}),Object(n.jsx)("td",{children:e.precio}),Object(n.jsx)("td",{children:e.estadoEstudio}),Object(n.jsx)("td",{children:k(e)}),Object(n.jsxs)("td",{children:[Object(n.jsx)(u.a,{href:"/orden/edit/".concat(N.id,"/edit/").concat(e.id),children:Object(n.jsx)("button",{className:"inline-block p-1 text-center mx-1 text-white transition bg-blue-500 rounded-full shadow ripple hover:shadow-lg hover:bg-blue-600 focus:outline-none disabled:opacity-50",children:Object(n.jsx)(v.b,{size:20})})}),Object(n.jsx)(f.a,{size:"small",disabled:"PROCESADO"!==e.estadoEstudio,estudio:I(I({},e),{},{ordenID:{nombreMedico:N.nombreMedico}}),cliente:N.clientID,showConfirm:!0})]})]},e.id)}))})]})})})})]})]})}):Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"flex flex-row mb-4",children:Object(n.jsx)("div",{className:"w-full",children:Object(n.jsx)(O.a,{items:d,home:!0,icon:"arrow"})})}),Object(n.jsx)("div",{className:"w-full px-4",children:Object(n.jsx)("div",{children:Object(n.jsx)(w.a,{css:_,size:80,color:"#000"})})})]})}))},gWdR:function(e,t,c){"use strict";var r=c("nKUr");t.a=function(e){var t=e.title,c=void 0===t?null:t,s=e.description,i=void 0===s?null:s,n=e.right,l=void 0===n?null:n,a=e.children;return Object(r.jsxs)("div",{className:"widget w-full p-4 mb-4 rounded-lg bg-white border border-gray-100 dark:bg-gray-900 dark:border-gray-800",children:[(c||i||l)&&Object(r.jsxs)("div",{className:"flex flex-row items-center justify-between mb-6",children:[Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsx)("div",{className:"text-sm font-light text-gray-500",children:c}),Object(r.jsx)("div",{className:"text-sm font-bold",children:i})]}),l]}),a]})}}},[["NpQ6",0,1,4,10,5,11,7,22,2,3,6,8,9,12,14,13,26,28]]]);