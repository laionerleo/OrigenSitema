_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[101],{TSHX:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/proveedor/detalle/[id]",function(){return a("mG21")}])},gWdR:function(e,t,a){"use strict";var o=a("q1tI"),r=a.n(o).a.createElement;t.a=function(e){var t=e.title,a=void 0===t?null:t,o=e.description,n=void 0===o?null:o,s=e.right,l=void 0===s?null:s,i=e.children;return r("div",{className:"widget w-full p-4 mb-4 rounded-lg bg-white border border-gray-100 dark:bg-gray-900 dark:border-gray-800"},(a||n||l)&&r("div",{className:"flex flex-row items-center justify-between mb-6"},r("div",{className:"flex flex-col"},r("div",{className:"text-sm font-light text-gray-500"},a),r("div",{className:"text-sm font-bold"},n)),l),i)}},mG21:function(e,t,a){"use strict";a.r(t);a("z7pX");var o=a("xvhg"),r=a("jT3O"),n=a("q1tI"),s=a.n(n),l=a("jRMg"),i=a("nOHt"),c=a("YFqc"),d=a.n(c),u=a("DFyN"),m=a("VreA"),b=a("6nGu"),v=a("gWdR"),f=a("IqVg"),g=(a("b1/7"),a("nqad"),a("5zZm"),a("DSWd"),a("B3WN"),a("qGs6")),p=a.n(g),N=a("qKvR"),x=(a("wd/R"),s.a.createElement);function h(){var e=Object(r.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: '#000';\n"]);return h=function(){return e},e}var O=Object(N.css)(h());t.default=Object(u.a)((function(){var e,t,a=Object(l.c)(m.W),r=Object(o.a)(a,1)[0],c=Object(l.c)(m.O),u=(Object(o.a)(c,1)[0],Object(l.c)(m.E)),g=(Object(o.a)(u,1)[0],Object(l.c)(m.H)),N=(Object(o.a)(g,1)[0],Object(l.c)(m.o)),h=Object(o.a)(N,1)[0],w=Object(l.c)(m.F),j=Object(o.a)(w,1)[0],y=Object(n.useState)(!0),E=y[0],S=y[1],P=Object(n.useState)(!1),D=P[0],C=P[1],_=Object(n.useState)(null),I=_[0],q=_[1],T=Object(n.useState)([]),R=T[0],k=T[1],A=Object(n.useState)([]),z=(A[0],A[1],Object(n.useState)([])),L=(z[0],z[1],Object(n.useState)([])),V=L[0],F=L[1],Q=Object(n.useState)([]),H=Q[0],X=Q[1],G=Object(n.useState)([]),W=G[0],B=G[1],J=Object(n.useState)([]),K=J[0],M=J[1],Y=Object(i.useRouter)(),Z=Y.query.id;Object(n.useEffect)((function(){Y.query.id&&U()}),[Y.query]);var U=function(){j({useCache:!0}).then((function(e){var t=e.data,a=e.error;if(a){console.log(a);var o="Hubo un error al consultar los datos.";return S(!1),a.graphQLErrors&&a.graphQLErrors.length>0&&a.graphQLErrors.map((function(e){o+="\n".concat(e.message," ")})),Object(f.a)("error",o),void Y.push("/proveedores")}t.getEstudios&&(F(t.getEstudios),$(Y.query.id),C(!0),h({variables:{proveedorID:Y.query.id}}).then((function(e){var t=e.data,a=e.error;if(a){console.log(a);var o="Hubo un error al obtener las estadisticas.";return C(!1),a.graphQLErrors&&a.graphQLErrors.length>0&&a.graphQLErrors.map((function(e){o+="\n".concat(e.message," ")})),void Object(f.a)("error",o)}if(t.estadisticasPorProveedor&&t.getProveedorStats){X(t.estadisticasPorProveedor),B(t.getProveedorStats);var r=0;t.estadisticasPorProveedor.length>0&&t.estadisticasPorProveedor.forEach((function(e){r+=Number(e.count)})),t.getProveedorStats.length>0&&t.getProveedorStats.forEach((function(e){r+=Number(e.count)})),M(r),C(!1)}}))),S(!1)}))},$=function(e){r({variables:{id:e}}).then((function(e){var t=e.data;e.error;if(t&&t.getProveedor){q(t.getProveedor);var a=[];a.push({title:"Inicio",url:"/dashboard",last:!1}),a.push({title:"Gestion de clientes",url:"/proveedor",last:!1}),a.push({title:"Detalles ".concat(t.getProveedor.nombre),url:"".concat(t.getProveedor.id),last:!0}),k(a)}}))};return I?x("div",null,x("div",{className:"w-full px-4"},x("div",{className:"flex flex-row mb-4"},x("div",{className:"w-full"},x(b.a,{items:R,home:!0,icon:"arrow"}))),x("div",{className:"w-full py-2 px-0"},x(v.a,{title:"",description:x("span",null,"Datos del cliente"),right:x(d.a,{href:"/proveedor/edit/".concat(Z)},x("a",{className:"link self-end"},"Editar"))},x("div",{className:"flex flex-col lg:flex-row lg:flex-wrap w-full lg:space-x-4"},x("div",{className:"flex flex-col w-3/4"},x("div",{className:"text-sm mb-1"},"Nombre: ",I.nombre),I.nit?x("div",{className:"text-sm mb-1"},"NIT: ",I.nit):null,I.direccion?x("div",{className:"text-sm mb-1"},"direccion: ",I.direccion):null,I.telefono?x("div",{className:"text-sm mb-1"},"Tel\xe9fono: ",I.telefono):null,I.nombreDeContacto?x("div",{className:"text-sm mb-1"},"Nombre de contacto: ",I.nombreDeContacto):null,I.telefonoDeContacto?x("div",{className:"text-sm mb-1"},"Tel\xe9fono de contacto: ",I.telefonoDeContacto):null,I.cargoDeContacto?x("div",{className:"text-sm mb-1"},"Cargo de contacto: ",I.cargoDeContacto):null,I.description?x("div",{className:"text-sm mb-1"},"Descripcion: ",I.description):null,x("div",{className:"text-sm mb-1"},"Keywords: ",I.keywords),x("div",{className:"text-sm mb-1"},"Tipo Proveedor: ",I.tipo),""!==I.modalidadDePago?x("div",{className:"text-sm mb-1"},"Modalidad de Pago: ",I.modalidadDePago):null,x("div",{className:"text-sm mb-1"},"Estatus actual: ",I.estatus),x("div",{className:"text-sm mb-1"},"Vendedor: ",null===(e=I.vendedor)||void 0===e?void 0:e.nombre," ",null===(t=I.vendedor)||void 0===t?void 0:t.apellido),x("div",{className:"text-sm mb-1"},"\xbfLos resultados son publicos?: ",I.informesPublicos?"SI":"NO")),x("div",{className:"w-full mt-5 mx-0"},x(d.a,{href:"/proveedor/detalle/".concat(Z,"/estudios"),className:"pointer"},x("button",{className:"inline-block px-6 py-1 mx-auto mb-3 text-xs font-medium leading-6 text-center text-white uppercase transition bg-blue-700 rounded-full shadow ripple hover:shadow-lg hover:bg-blue-800 focus:outline-none"},"Ver Estudios realizados por ",I.nombre))))),x(v.a,{title:"",description:x("span",null,"Estadisticas del Cliente")},D?x("div",null,x(p.a,{css:O,size:80,color:"#000"})):null,D||!(H.length>0||W.length>0)||E?null:x(s.a.Fragment,null,x("div",{className:"text-sm mb-1"},"Total Pruebas Realizadas: ",x("strong",null,K)),H.length>0?x(s.a.Fragment,null,x("br",null),x("div",{className:"text-sm mb-1"},"Sistema nuevo:")):null,H.map((function(e){return x("div",{key:"e-".concat(e._id),className:"text-sm mb-1"},(t=e._id,V.filter((function(e){return e.id===t}))[0].nombre),": ",x("strong",null,e.count));var t})),W.length>0?x(s.a.Fragment,null,x("br",null),x("div",{className:"text-sm mb-1"},"Sistema anterior:")):null,W.map((function(e){return x("div",{key:"e-".concat(e._id),className:"text-sm mb-1"},function(e){var t=[{id:"5f19c26822e6db619738813d",nombre:"PCR COVID-19"},{id:"60647bc51f5e76393874fc5e",nombre:"PCR COVID-19 Saliva"},{id:"5f1b35777cb6272305854ddb",nombre:"ELISA COVID-19"},{id:"60b61774424baa2067ba3853",nombre:"Anticuerpos Neutralizantes ACE2-RBD"},{id:"60b7908efff81d7b9f1ec537",nombre:"Antigeno - SARS-COV2"}].filter((function(t){return t.id===e}));return t[0]?t[0].nombre:(console.log("No se encontro el estudioID ",e),"")}(e._id),": ",x("strong",null,e.count))}))),D||0!==H.length||0!==W.length?null:x("div",{className:"w-full text-center mt-6"},x("h1",{className:"text-2xl text-blue-500 mb-4"},"No se cuentan con estadisticas para ",I.nombre,".")))))):x("div",null,x("div",{className:"flex flex-row mb-4"},x("div",{className:"w-full"},x(b.a,{items:R,home:!0,icon:"arrow"}))),x("div",{className:"w-full px-4"},x("div",null,x(p.a,{css:O,size:80,color:"#000"}))))}))},z7pX:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a("6FTQ");var r=a("8rE2");function n(e){return function(e){if(Array.isArray(e))return Object(o.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},[["TSHX",0,1,4,10,5,11,7,20,22,2,3,6,8,9,12,14,13,19,21,26,28,42]]]);