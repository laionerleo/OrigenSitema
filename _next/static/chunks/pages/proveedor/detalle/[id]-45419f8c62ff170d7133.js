_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[102],{TSHX:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/proveedor/detalle/[id]",function(){return s("mG21")}])},gWdR:function(e,t,s){"use strict";var r=s("nKUr");t.a=function(e){var t=e.title,s=void 0===t?null:t,c=e.description,n=void 0===c?null:c,o=e.right,a=void 0===o?null:o,i=e.children;return Object(r.jsxs)("div",{className:"widget w-full p-4 mb-4 rounded-lg bg-white border border-gray-100 dark:bg-gray-900 dark:border-gray-800",children:[(s||n||a)&&Object(r.jsxs)("div",{className:"flex flex-row items-center justify-between mb-6",children:[Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsx)("div",{className:"text-sm font-light text-gray-500",children:s}),Object(r.jsx)("div",{className:"text-sm font-bold",children:n})]}),a]}),i]})}},mG21:function(e,t,s){"use strict";s.r(t);s("z7pX");var r=s("xvhg"),c=s("jT3O"),n=s("nKUr"),o=s("q1tI"),a=s("jRMg"),i=s("nOHt"),l=s("YFqc"),d=s.n(l),b=s("DFyN"),j=s("VreA"),u=s("6nGu"),m=s("gWdR"),x=s("IqVg"),h=(s("b1/7"),s("nqad"),s("5zZm"),s("DSWd"),s("B3WN"),s("qGs6")),O=s.n(h),v=s("qKvR");s("wd/R");function f(){var e=Object(c.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: '#000';\n"]);return f=function(){return e},e}var g=Object(v.css)(f());t.default=Object(b.a)((function(){var e,t,s=Object(a.c)(j.W),c=Object(r.a)(s,1)[0],l=Object(a.c)(j.O),b=(Object(r.a)(l,1)[0],Object(a.c)(j.E)),h=(Object(r.a)(b,1)[0],Object(a.c)(j.H)),v=(Object(r.a)(h,1)[0],Object(a.c)(j.o)),f=Object(r.a)(v,1)[0],p=Object(a.c)(j.F),N=Object(r.a)(p,1)[0],w=Object(o.useState)(!0),S=w[0],P=w[1],y=Object(o.useState)(!1),E=y[0],D=y[1],C=Object(o.useState)(null),_=C[0],I=C[1],T=Object(o.useState)([]),q=T[0],R=T[1],A=Object(o.useState)([]),k=(A[0],A[1],Object(o.useState)([])),z=(k[0],k[1],Object(o.useState)([])),L=z[0],V=z[1],F=Object(o.useState)([]),Q=F[0],H=F[1],X=Object(o.useState)([]),G=X[0],W=X[1],K=Object(o.useState)([]),B=K[0],J=K[1],M=Object(i.useRouter)(),U=M.query.id;Object(o.useEffect)((function(){M.query.id&&Y()}),[M.query]);var Y=function(){N({useCache:!0}).then((function(e){var t=e.data,s=e.error;if(s){console.log(s);var r="Hubo un error al consultar los datos.";return P(!1),s.graphQLErrors&&s.graphQLErrors.length>0&&s.graphQLErrors.map((function(e){r+="\n".concat(e.message," ")})),Object(x.a)("error",r),void M.push("/proveedores")}t.getEstudios&&(V(t.getEstudios),Z(M.query.id),D(!0),f({variables:{proveedorID:M.query.id}}).then((function(e){var t=e.data,s=e.error;if(s){console.log(s);var r="Hubo un error al obtener las estadisticas.";return D(!1),s.graphQLErrors&&s.graphQLErrors.length>0&&s.graphQLErrors.map((function(e){r+="\n".concat(e.message," ")})),void Object(x.a)("error",r)}if(t.estadisticasPorProveedor&&t.getProveedorStats){H(t.estadisticasPorProveedor),W(t.getProveedorStats);var c=0;t.estadisticasPorProveedor.length>0&&t.estadisticasPorProveedor.forEach((function(e){c+=Number(e.count)})),t.getProveedorStats.length>0&&t.getProveedorStats.forEach((function(e){c+=Number(e.count)})),J(c),D(!1)}}))),P(!1)}))},Z=function(e){c({variables:{id:e}}).then((function(e){var t=e.data;e.error;if(t&&t.getProveedor){I(t.getProveedor);var s=[];s.push({title:"Inicio",url:"/dashboard",last:!1}),s.push({title:"Gestion de clientes",url:"/proveedor",last:!1}),s.push({title:"Detalles ".concat(t.getProveedor.nombre),url:"".concat(t.getProveedor.id),last:!0}),R(s)}}))},$=function(e){var t=[{id:"5f19c26822e6db619738813d",nombre:"PCR COVID-19"},{id:"60647bc51f5e76393874fc5e",nombre:"PCR COVID-19 Saliva"},{id:"5f1b35777cb6272305854ddb",nombre:"ELISA COVID-19"},{id:"60b61774424baa2067ba3853",nombre:"Anticuerpos Neutralizantes ACE2-RBD"},{id:"60b7908efff81d7b9f1ec537",nombre:"Antigeno - SARS-COV2"}].filter((function(t){return t.id===e}));return t[0]?t[0].nombre:(console.log("No se encontro el estudioID ",e),"")};return _?Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"w-full px-4",children:[Object(n.jsx)("div",{className:"flex flex-row mb-4",children:Object(n.jsx)("div",{className:"w-full",children:Object(n.jsx)(u.a,{items:q,home:!0,icon:"arrow"})})}),Object(n.jsxs)("div",{className:"w-full py-2 px-0",children:[Object(n.jsx)(m.a,{title:"",description:Object(n.jsx)("span",{children:"Datos del cliente"}),right:Object(n.jsx)(d.a,{href:"/proveedor/edit/".concat(U),children:Object(n.jsx)("a",{className:"link self-end",children:"Editar"})}),children:Object(n.jsxs)("div",{className:"flex flex-col lg:flex-row lg:flex-wrap w-full lg:space-x-4",children:[Object(n.jsxs)("div",{className:"flex flex-col w-3/4",children:[Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Nombre: ",_.nombre]}),_.nit?Object(n.jsxs)("div",{className:"text-sm mb-1",children:["NIT: ",_.nit]}):null,_.direccion?Object(n.jsxs)("div",{className:"text-sm mb-1",children:["direccion: ",_.direccion]}):null,_.telefono?Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Tel\xe9fono: ",_.telefono]}):null,_.nombreDeContacto?Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Nombre de contacto: ",_.nombreDeContacto]}):null,_.telefonoDeContacto?Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Tel\xe9fono de contacto: ",_.telefonoDeContacto]}):null,_.cargoDeContacto?Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Cargo de contacto: ",_.cargoDeContacto]}):null,_.description?Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Descripcion: ",_.description]}):null,Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Keywords: ",_.keywords]}),Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Tipo Proveedor: ",_.tipo]}),""!==_.modalidadDePago?Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Modalidad de Pago: ",_.modalidadDePago]}):null,Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Estatus actual: ",_.estatus]}),Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Vendedor: ",null===(e=_.vendedor)||void 0===e?void 0:e.nombre," ",null===(t=_.vendedor)||void 0===t?void 0:t.apellido]}),Object(n.jsxs)("div",{className:"text-sm mb-1",children:["\xbfLos resultados son publicos?: ",_.informesPublicos?"SI":"NO"]})]}),Object(n.jsx)("div",{className:"w-full mt-5 mx-0",children:Object(n.jsx)(d.a,{href:"/proveedor/detalle/".concat(U,"/estudios"),className:"pointer",children:Object(n.jsxs)("button",{className:"inline-block px-6 py-1 mx-auto mb-3 text-xs font-medium leading-6 text-center text-white uppercase transition bg-blue-700 rounded-full shadow ripple hover:shadow-lg hover:bg-blue-800 focus:outline-none",children:["Ver Estudios realizados por ",_.nombre]})})})]})}),Object(n.jsxs)(m.a,{title:"",description:Object(n.jsx)("span",{children:"Estadisticas del Cliente"}),children:[E?Object(n.jsx)("div",{children:Object(n.jsx)(O.a,{css:g,size:80,color:"#000"})}):null,E||!(Q.length>0||G.length>0)||S?null:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"text-sm mb-1",children:["Total Pruebas Realizadas: ",Object(n.jsx)("strong",{children:B})]}),Q.length>0?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"text-sm mb-1",children:"Sistema nuevo:"})]}):null,Q.map((function(e){return Object(n.jsxs)("div",{className:"text-sm mb-1",children:[(t=e._id,L.filter((function(e){return e.id===t}))[0].nombre),": ",Object(n.jsx)("strong",{children:e.count})]},"e-".concat(e._id));var t})),G.length>0?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"text-sm mb-1",children:"Sistema anterior:"})]}):null,G.map((function(e){return Object(n.jsxs)("div",{className:"text-sm mb-1",children:[$(e._id),": ",Object(n.jsx)("strong",{children:e.count})]},"e-".concat(e._id))}))]}),E||0!==Q.length||0!==G.length?null:Object(n.jsx)("div",{className:"w-full text-center mt-6",children:Object(n.jsxs)("h1",{className:"text-2xl text-blue-500 mb-4",children:["No se cuentan con estadisticas para ",_.nombre,"."]})})]})]})]})}):Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"flex flex-row mb-4",children:Object(n.jsx)("div",{className:"w-full",children:Object(n.jsx)(u.a,{items:q,home:!0,icon:"arrow"})})}),Object(n.jsx)("div",{className:"w-full px-4",children:Object(n.jsx)("div",{children:Object(n.jsx)(O.a,{css:g,size:80,color:"#000"})})})]})}))},z7pX:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s("6FTQ");var c=s("8rE2");function n(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},[["TSHX",0,1,4,10,5,11,7,20,22,2,3,6,8,9,12,14,13,19,21,26,28,43]]]);