_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[93],{HL6P:function(n,e,t){"use strict";var i=t("rePB"),r=t("nKUr"),o=t("q1tI"),d=t.n(o);function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function u(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){Object(i.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}e.a=function(n,e,t){var i=d.a.createContext();return{Context:i,Provider:function(d){var a=d.children,s=Object(o.useReducer)(n,t),c=s[0],l=s[1],p={};for(var m in e)p[m]=e[m](l);return Object(r.jsx)(i.Provider,{value:u({state:c},p),children:a})}}}},JrXF:function(n,e,t){"use strict";var i=t("nKUr"),r=t("q1tI"),o=t("Tgqd");e.a=function(n){var e=n.outlined,t=void 0!==e&&e,d=n.raised,a=void 0!==d&&d,u=n.rounded,s=void 0!==u&&u,c=n.borderLeft,l=void 0!==c&&c,p=n.icon,m=void 0===p?null:p,f=n.size,b=void 0===f?"default":f,$=n.closeable,h=void 0===$||$,j=n.color,O=n.children,g=Object(r.useState)(!1),v=g[0],w=g[1],P=[];return P.push(j),t&&P.push("border border-current"),a&&P.push("shadow"),s&&P.push("rounded-lg"),v&&P.push("hidden"),l&&P.push("border-l-4 border-current"),"sm"===b?P.push("p-2"):P.push("p-4"),P=P.join(" "),Object(i.jsxs)("div",{className:"w-full flex items-center justify-start p-4 ".concat(P),children:[Object(i.jsx)("div",{className:"flex-shrink",children:m}),Object(i.jsx)("div",{className:"flex-grow",children:O}),h&&Object(i.jsx)("div",{className:"flex-shrink",children:Object(i.jsx)("button",{className:"ml-auto flex items-center justify-center",onClick:function(){return w(!v)},children:Object(i.jsx)(o.C,{className:"stroke-current h-4 w-4"})})})]})}},foKq:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/passwordReset",function(){return t("jK5+")}])},"iJN+":function(n,e,t){"use strict";t.d(e,"b",(function(){return f})),t.d(e,"a",(function(){return b}));var i=t("o0o1"),r=t.n(i),o=t("HaE+"),d=t("rePB"),a=t("vDqi"),u=t.n(a),s=t("z0WU"),c=t("HL6P");function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function p(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){Object(d.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var m=Object(c.a)((function(n,e){switch(e.type){case"clear_message":return p(p({},n),{},{errorMessage:""});case"change_waiting_value":return p(p({},n),{},{loading:!n.loading});case"sign_in":return p(p({},n),{},{token:e.payload.token,user:e.payload.user,redirectTo:"",loading:!1});case"add_error":return p(p({},n),{},{errorMessage:e.payload,loading:!1});case"sign_out":return p(p({},n),{},{errorMessage:"",loading:!1,user:{valid:!1},token:null,redirectTo:""});case"redirect":return p(p({},n),{},{redirectTo:e.payload});default:return n}}),{clearMessage:function(n){return function(){n({type:"clear_message"})}},changeWaitingValue:function(n){return function(){n({type:"change_waiting_value"})}},tryLocalSignin:function(n){return Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var i=Object(s.p)();i?u()({url:"https://node.origen.com.bo/graphql",method:"post",headers:{authorization:"Bearer ".concat(i)},data:{query:"\n            query profile {\n              profile {\n                id\n                apellido\n                email\n                nombre\n                role\n                compania\n              }\n            }\n          "}}).then((function(t){var r=t.data.data.profile,o=r.apellido,d=r.email,a=r.id,u=r.nombre,c=r.role,l=r.compania;Object(s.t)(i,{apellido:o,email:d,id:a,nombre:u,role:c,compania:l}),n({type:"sign_in",payload:{token:i,user:{apellido:o,email:d,id:a,nombre:u,role:c,compania:l,valid:!0}}}),e(!0)})).catch((function(t){console.log("El token no es valido"),Object(s.s)(),n({type:"sign_out"}),n({type:"redirect",payload:"/login"}),e(!1)})):e(!1)})));case 1:case"end":return e.stop()}}),e)})))},signin:function(n){return function(){var e=Object(o.a)(r.a.mark((function e(t){var i,o,d,a,u,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.apellido,o=t.email,d=t.id,a=t.nombre,u=t.role,c=t.token,l=t.compania,n({type:"sign_in",payload:{token:c,user:{apellido:i,email:o,id:d,nombre:a,role:u,compania:l,valid:!0}}}),Object(s.t)(c,{apellido:i,email:o,id:d,nombre:a,role:u,compania:l}),n({type:"redirect",payload:"/home"}),e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},signout:function(n){return function(){Object(s.s)(),n({type:"sign_out"})}},setError:function(n){return function(e){n({type:"add_error",payload:"".concat(e)})}},setRedirect:function(n){return function(e){console.log("setRedirect ".concat(e)),n({type:"redirect",payload:e})}}},{errorMessage:"",loading:!1,user:{valid:!1},token:null,redirectTo:""}),f=m.Provider,b=m.Context},iX8M:function(n,e,t){"use strict";t.d(e,"B",(function(){return i})),t.d(e,"L",(function(){return r})),t.d(e,"J",(function(){return o})),t.d(e,"F",(function(){return d})),t.d(e,"c",(function(){return a})),t.d(e,"t",(function(){return u})),t.d(e,"T",(function(){return s})),t.d(e,"H",(function(){return c})),t.d(e,"G",(function(){return l})),t.d(e,"M",(function(){return p})),t.d(e,"D",(function(){return m})),t.d(e,"N",(function(){return f})),t.d(e,"S",(function(){return b})),t.d(e,"j",(function(){return $})),t.d(e,"z",(function(){return h})),t.d(e,"r",(function(){return j})),t.d(e,"e",(function(){return O})),t.d(e,"f",(function(){return g})),t.d(e,"k",(function(){return v})),t.d(e,"A",(function(){return w})),t.d(e,"h",(function(){return P})),t.d(e,"P",(function(){return I})),t.d(e,"v",(function(){return x})),t.d(e,"n",(function(){return y})),t.d(e,"p",(function(){return E})),t.d(e,"a",(function(){return D})),t.d(e,"s",(function(){return C})),t.d(e,"l",(function(){return N})),t.d(e,"i",(function(){return S})),t.d(e,"y",(function(){return _})),t.d(e,"q",(function(){return k})),t.d(e,"I",(function(){return T})),t.d(e,"Q",(function(){return F})),t.d(e,"R",(function(){return U})),t.d(e,"E",(function(){return M})),t.d(e,"g",(function(){return z})),t.d(e,"x",(function(){return R})),t.d(e,"o",(function(){return q})),t.d(e,"w",(function(){return A})),t.d(e,"b",(function(){return B})),t.d(e,"C",(function(){return V})),t.d(e,"K",(function(){return H})),t.d(e,"O",(function(){return K})),t.d(e,"d",(function(){return J})),t.d(e,"u",(function(){return L})),t.d(e,"m",(function(){return X}));var i="\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      id\n      token\n      email\n      nombre\n      apellido\n      role\n      compania\n      areasDeEstudio {\n        nombre\n        id\n      }\n    }\n  }\n",r="\n  mutation createUser($input: UserInput) {\n    createUser(input: $input)\n  }\n",o="\nmutation setPassword($hash: String!, $password: String!) {\n  setPassword(hash: $hash, password: $password)\n}\n",d="\nmutation forgotPassword($email: String!) {\n  forgotPassword(email: $email)\n}\n",a="\n  mutation addClient($input: ClientInput) {\n    addClient(input: $input) {\n      id\n      nombres\n      apellidos\n      ci\n      fecha_nacimiento\n      telefono\n      municipio\n      departamento\n      direccion\n      sexo\n      edad\n    }\n  }\n",u="\n  mutation editClient($input: ClientEditInput) {\n    editClient(input: $input) {\n      id\n      nombres\n      apellidos\n      ci\n      fecha_nacimiento\n      telefono\n      municipio\n      departamento\n      direccion\n      sexo\n      edad\n    }\n  }\n",s="\nmutation editTipoFicha($id: ID!, $tipoFicha: String!) {\n  editTipoFicha(id: $id, tipoFicha: $tipoFicha) {\n    codigo\n  }\n}\n",c="\nmutation setCodigoInterno($id: ID!, $codigoInterno: String!) {\n  setCodigoInterno(id: $id, codigoInterno: $codigoInterno) {\n    codigoInterno\n  }\n}\n",l="\n  mutation setConciliacionFicha($input: FichaConciliacionInput) {\n    setConciliacionFicha(input: $input) {\n      codigo\n    }\n  }\n",p="\nmutation loadReports($informes: [Reportes]) {\n  loadReports(informes: $informes)\n}\n",m="\n  mutation deleteClient($id: ID) {\n    deleteClient(id: $id)\n  }\n",f="\nmutation updateUser($input: UserEditInput) {\n  updateUser(input: $input) {\n    id\n    email\n    nombre\n    apellido\n    role\n    permissions\n    approved\n    compania\n    keywords\n  }\n}\n",b="\n  mutation updateSystemUserPrivilegesUser($input: UserPrivilegesInput) {\n    updateSystemUserPrivilegesUser(input: $input) {\n      id\n      nombre\n      role\n      approved\n    }\n  }\n",$="\nmutation addTipoDeMuestra($input: TipoDeMuestraInput) {\n  addTipoDeMuestra(input: $input) {\n    nombre\n    description\n    estatus\n    id\n  }\n}\n",h="\nmutation editTipoDeMuestra($id: ID!, $input: TipoDeMuestraInput) {\n  editTipoDeMuestra(id: $id, input: $input) {\n    nombre\n    description\n    id\n    estatus\n  }\n}\n",j="\nmutation deleteTipoDeMuestra($id: ID!) {\n  deleteTipoDeMuestra(id: $id)\n}\n",O="\nmutation addEstudio($input: EstudioInput) {\n  addEstudio(input: $input) {\n    id\n    nombre\n    codigo\n    description\n    metodo\n    estatus\n    areaDeEstudioID {\n      nombre\n    }\n    tipoDeMuestras {\n      nombre\n    }\n  }\n}\n",g="\nmutation addHistorial($input: HistorialPrecioPorProveedorInput) {\n    addHistorial(input: $input) {\n        id\n        precio\n        fecha_inicio    \n        fecha_limite    \n        estudioID\n        proveedorID\n  }\n}\n",v="\nmutation addVacuna($input: VacunaInput) {\n    addVacuna(input: $input) {\n        id\n        dosisPrimera\n        dosisSegunda\n        dosisUnica\n        dosisRefuerzoPrimero\n        dosisRefuerzoSegundo\n        clientID\n        fechaUltimoTest\n  }\n}\n",w="\nmutation editVacuna($input: VacunaEditInput) {\n    editVacuna(input: $input) {\n        id\n        dosisPrimera\n        dosisSegunda\n        dosisUnica\n        dosisRefuerzoPrimero\n        dosisRefuerzoSegundo\n        fechaUltimoTest\n    }\n}\n",P="\nmutation addPerfil($input: PerfilInput) {\n  addPerfil(input: $input) {\n    id\n    nombre\n    estatus\n    estudios {\n      id\n      nombre\n      precio\n    }\n  }\n}\n",I="\nmutation updatePerfil($id: ID!, $input: PerfilInput) {\n  updatePerfil(id: $id, input: $input) {\n    id\n    nombre\n    estatus\n    estudios {\n      id\n      nombre\n      precio\n    }\n  }\n}\n",x="\nmutation editEstudio($id: ID!, $input: EstudioInput) {\n  editEstudio(id: $id, input: $input) {\n    id\n    nombre\n    codigo\n    description\n    metodo\n    estatus\n    areaDeEstudioID {\n      nombre\n    }\n    tipoDeMuestras {\n      nombre\n    }\n  }\n}\n",y="\nmutation deleteEstudio($id: ID!) {\n  deleteEstudio(id: $id)\n}\n",E="\nmutation deletePerfil($id: ID!) {\n  deletePerfil(id: $id)\n}\n",D="\nmutation addAreaEstudio($input: AreaEstudioInput) {\n  addAreaEstudio(input: $input) {\n    nombre\n    id\n  }\n}\n",C="\nmutation editAreaEstudio($id: ID!, $input: AreaEstudioInput) {\n  editAreaEstudio(id: $id, input: $input) {\n    nombre\n    id\n  }\n}\n",N="\nmutation deleteAreaEstudio($id: ID!) {\n  deleteAreaEstudio(id: $id)\n}\n",S="\nmutation addProveedor($input: ProveedorInput) {\n  addProveedor(input: $input) {\n    id\n    nombre\n    description\n    estatus\n  }\n}\n",_="\nmutation editProveedor($id: ID!, $input: ProveedorInput) {\n  editProveedor(id: $id, input: $input) {\n    id\n    nombre\n    description\n    estatus\n  }\n}\n",k="\nmutation deleteProveedor($id: ID!) {\n  deleteProveedor(id: $id)\n}\n",T="\nmutation setPrecioEstudio($input: PreciosPorOrdenInput) {\n  setPrecioEstudio(input: $input) {\n    id\n  }\n}\n",F="\nmutation updatePrecioProveedor($id: ID!, $input: PreciosPorOrdenInput) {\n  updatePrecioProveedor(id: $id, input: $input) {\n    id\n  }\n}\n",U="\nmutation updatePrecioOrdenPorEstudio($id: ID!, $input: PreciosPorOrdenEstudioInput) {\n  updatePrecioOrdenPorEstudio(id: $id, input: $input) {\n    id\n  }\n}\n",M="\nmutation deleteItem($id: ID!) {\n  deleteItem(id: $id)\n}\n",z="\nmutation addOrden($input: OrdenInput, $estudios: [EstudioPorOrdenInput]) {\n  addOrden(input: $input, estudios: $estudios) {\n    id\n    fechaSolicitud\n  }\n}\n",R="\nmutation editOrden($id: ID!, $input: OrdenInput, $estudios: [EstudioEditPrecio]) {\n  editOrden(id: $id, input: $input, estudios: $estudios) {\n    id\n  }\n}\n",q="\nmutation deleteOrden($id: ID!) {\n  deleteOrden(id: $id)\n}\n",A="\nmutation editDataEstudio($id: ID!, $input: EstudioPorOrdenEditSimpleInput) {\n  editDataEstudio(id: $id, input: $input) {\n    id\n    codigoEstudio\n  }\n}\n",B="\nmutation addAttachmentFileEstudioPorOrden($id: ID, $file: Upload) {\n  addAttachmentFileEstudioPorOrden(id: $id, file: $file) {\n    id\n    attachmentFiles {\n      id\n      name\n      mimeType\n      url\n    }\n  }\n}\n",V="\nmutation removeAttachmentFileEstudioPorOrden($id: ID, $fileId: ID) {\n  removeAttachmentFileEstudioPorOrden(id: $id, fileId: $fileId) {\n    id\n    attachmentFiles {\n      id\n      name\n      mimeType\n      url\n    }\n  }\n}\n",H="\nmutation setResultEstudio($id: ID!, $input: EstudioPorOrdenSetResultInput) {\n  setResultEstudio(id: $id, input: $input) {\n    id\n    codigoEstudio\n  }\n}\n",K="\nmutation updateOrderByFile($ordenes: [OrdenConciliacionByFileInput]) {\n  updateOrderByFile(ordenes: $ordenes)\n}\n",J="\nmutation addCotizacion($input: CotizacionInput, $estudios: [EstudioPorCotizacionInput]) {\n  addCotizacion(input: $input, estudios: $estudios) {\n    id\n    fechaSolicitud\n  }\n}\n",L="\nmutation editCotizacion($id: ID!, $input: CotizacionInput, $estudios: [EstudioEditPrecio]) {\n  editCotizacion(id: $id, input: $input, estudios: $estudios) {\n    id\n  }\n}\n",X="\nmutation deleteCotizacion($id: ID!) {\n  deleteCotizacion(id: $id)\n}\n"},"jK5+":function(n,e,t){"use strict";t.r(e);var i=t("ODXe"),r=t("nKUr"),o=t("q1tI"),d=t("UGp+"),a=t("KYPV"),u=t("YFqc"),s=t.n(u),c=t("nOHt"),l=t("jRMg"),p=t("iJN+"),m=t("TCCB"),f=t("iX8M"),b=t("JrXF"),$=t("Tgqd");e.default=function(){var n=Object(o.useContext)(p.a).signout,e=Object(m.b)(),t=e.setAuthenticated,u=e.setUserInformation,h=Object(c.useRouter)(),j=Object(l.d)(f.J),O=Object(i.a)(j,1)[0],g=Object(o.useState)(null),v=g[0],w=g[1],P=Object(o.useState)(!1),I=P[0],x=P[1],y=Object(o.useState)(null),E=y[0],D=y[1],C=Object(a.b)({initialValues:{password:"",passwordConfirmation:""},validationSchema:d.f({password:d.h().required("Este campo es requerido."),passwordConfirmation:d.h().oneOf([d.g("password"),null],"Los campos no son iguales.")}),onSubmit:function(n){D(null),w(null),x(!0),O({variables:{password:n.password,hash:h.query.token}}).then((function(n){var e=n.data,t=n.error;if(t)return w(t),void x(!1);e&&e.setPassword&&(x(!1),D(e.setPassword))}))}});return Object(o.useEffect)((function(){n(),u(null),t(!1)}),[]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"flex flex-col bg-white border border-gray-200 p-8 w-full max-w-xl",children:[Object(r.jsxs)("div",{className:"flex flex-col w-full mb-4",children:[Object(r.jsx)("div",{className:"text-xs uppercase",children:"Reinicio de contrase\xf1a"}),Object(r.jsx)("div",{className:"text-lg font-bold",children:"Por favor ingresa la nueva contrase\xf1a para tu cuenta"})]}),Object(r.jsxs)("div",{className:"flex flex-col",children:[E&&Object(r.jsx)(b.a,{color:"bg-transparent border-green-500 text-green-500",borderLeft:!0,raised:!0,children:E}),v?v.graphQLErrors.map((function(n,e){return Object(r.jsx)("div",{className:"w-full mb-4",children:Object(r.jsx)(b.a,{color:"bg-red-500 text-white",icon:Object(r.jsx)($.b,{className:"mr-2 stroke-current h-4 w-4"}),children:n.message})},e)})):null,Object(r.jsx)("form",{className:"form flex flex-wrap w-full",onSubmit:C.handleSubmit,children:Object(r.jsxs)("div",{className:"w-full",children:[Object(r.jsxs)("div",{className:"form-element",children:[Object(r.jsx)("div",{className:"form-label",children:"Nueva Contrase\xf1a"}),Object(r.jsx)("input",{className:"form-input ".concat(C.errors.password?"border-red-500":""),name:"password",type:"password",placeholder:"Ingresa la nueva contrase\xf1a",value:C.values.password,onChange:C.handleChange}),C.errors.password&&C.touched.password?Object(r.jsx)("div",{className:"form-error",children:C.errors.password}):null]}),Object(r.jsxs)("div",{className:"form-element",children:[Object(r.jsx)("div",{className:"form-label",children:"Confirma la nueva contrase\xf1a"}),Object(r.jsx)("input",{className:"form-input ".concat(C.errors.passwordConfirmation?"border-red-500":""),name:"passwordConfirmation",type:"password",placeholder:"Confirma la contrase\xf1a",value:C.values.passwordConfirmation,onChange:C.handleChange}),C.errors.passwordConfirmation&&C.touched.passwordConfirmation?Object(r.jsx)("div",{className:"form-error",children:C.errors.passwordConfirmation}):null]}),Object(r.jsx)("div",{className:"mb-6 text-center",children:Object(r.jsxs)("button",{className:"w-full inline-flex items-center justify-center px-4 py-2 font-bold text-white bg-blue-500 rounded-full hover:bg-blue-700 focus:outline-none focus:shadow-outline",type:"submit",children:[I?Object(r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,"Cambiar contrase\xf1a"]})})]})}),Object(r.jsx)("div",{className:"flex flex-row w-full",children:Object(r.jsx)("span",{children:Object(r.jsx)(s.a,{href:"/login",children:Object(r.jsx)("a",{className:"link",children:"Inicia sesion"})})})})]})]})})}},rePB:function(n,e,t){"use strict";function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}t.d(e,"a",(function(){return i}))}},[["foKq",0,1,4,10,5,11,7,2,3,6,8,9,15,16,17]]]);