_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[99],{"6Rqd":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a("q1tI"),r=a.n(o).a.createElement,l=function(e){var t=e.tabs,a=Object(o.useState)(0),l=a[0],n=a[1];return r("div",{className:"flex flex-wrap flex-col w-full tabs"},r("div",{className:"flex lg:flex-wrap flex-row lg:space-x-2"},t.map((function(e,t){return r("div",{key:t,className:"flex-none"},r("button",{onClick:function(){n(e.index)},className:l===e.index?"tab tab-underline tab-active":"tab tab-underline",type:"button"},e.title))}))),t.map((function(e,t){return r("div",{key:t,className:"tab-content ".concat(l!==e.index?"hidden":"block")},e.content)})))}},Cao4:function(e,t,a){"use strict";a.r(t);var o=a("xvhg"),r=a("jT3O"),l=a("q1tI"),n=a.n(l),s=a("jRMg"),i=a("nOHt"),u=a("IqVg"),c=a("qKvR"),d=a("wd/R"),m=a.n(d),f=a("VreA"),b=a("DFyN"),v=a("TCCB"),g=a("6nGu"),p=a("L4s6"),h=a("YFqc"),_=a.n(h),O=a("qGs6"),N=a.n(O),x=a("gWdR"),E=a("cpVT"),j=a("KYPV"),D=a("y2g3"),y=a.n(D),w=a("IGOO"),I=a("Tgqd"),P=a("hKE6"),R=a("02nw"),S=a("iX8M"),C=a("B3WN"),k=a("6Rqd"),Y=a("z0WU"),M=n.a.createElement;function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(){var e=Object(r.a)(['\n  display: block;\n  margin: 0 auto;\n  border-color: "#000";\n']);return A=function(){return e},e}var q=Object(c.css)(A()),L=function(e){var t=e.id,a=Object(l.useState)(!0),r=a[0],i=a[1],c=Object(l.useState)([]),d=c[0],b=c[1],g=Object(l.useState)(null),p=g[0],h=g[1],O=Object(l.useState)({}),E=O[0],D=O[1],F=Object(l.useState)([]),A=F[0],L=F[1],Q=Object(l.useState)([]),T=(Q[0],Q[1],Object(v.b)().userInformation,Object(s.c)(f.i)),z=Object(o.a)(T,1)[0],B=Object(s.c)(f.x),G=Object(o.a)(B,1)[0],H=Object(s.c)(f.lb),U=Object(o.a)(H,1)[0],K=Object(s.d)(S.K),X=Object(o.a)(K,1)[0],J=function(e,t){"PARTICULAR"!==t&&G({variables:{id:e}}).then((function(e){var t=e.data;e.eror;t.findUsersOfProvider&&t.findUsersOfProvider.length>0&&L(t.findUsersOfProvider)}))},W=function(){var e=[];A.map((function(t){e.push(t.email)})),U({variables:{emails:e,compania:d.ordenID.proveedorID.nombre}}).then((function(){Object(u.a)("success","Email enviado.")}))},Z=Object(l.useCallback)((function(e){var t,a,o,r=V(V({},e),{},{fechaReporte:(t=d.estadoEstudio,a=e.estadoEstudio,o=e.fechaReporte,"PROCESADO"===a?t!=a?m()().format("YYYY-MM-DD"):o.format("YYYY-MM-DD"):"")});X({variables:{id:d.id,input:r}}).then((function(t){var a=t.data,o=t.error;if(o){var r="Hubo un error al actualizar la informacion.";return o.graphQLErrors&&o.graphQLErrors.length>0&&o.graphQLErrors.map((function(e){r+="\n".concat(e.message," ")})),void Object(u.a)("error",r)}a.setResultEstudio&&(Object(u.a)("success","Los datos del estudio fueron actualizados correctamente."),A.length>0&&"PROCESADO"===e.estadoEstudio&&Object(w.confirmAlert)({customUI:function(e){var t=e.onClose;return M(n.a.Fragment,null,M("div",{className:"modal-backdrop fade-in"}),M("div",{className:"modal show ","data-background":"light"},M("div",{className:"relative w-auto lg:my-4 mx-auto lg:max-w-lg max-w-sm"},M("div",{className:"bg-white text-gray-900 border-gray-200 dark:bg-gray-800 dark:text-white dark:border-gray-700 border-0 rounded-lg shadow-lg relative flex flex-col w-full outline-none"},M("div",{className:"relative p-4 flex-auto"},M("div",{className:"flex items-start justify-start p-2 space-x-4"},M("div",{className:"flex flex-col w-full"},M("div",{className:"text-lg mb-2 font-bold"},"\xbfDeseas informar via email a la empresa"," ",d.ordenID.proveedorID.nombre," sobre el resultado de este estudio ?")))),M("div",{className:"flex items-center justify-end p-4 border-t border-gray-200 dark:border-gray-700 border-solid rounded-b space-x-2"},M("button",{className:"btn btn-default btn-rounded bg-white hover:bg-gray-100 text-gray-900",type:"button",onClick:t}," ","No"," "),M("button",{className:"btn btn-default btn-rounded bg-green-500 hover:bg-green-600 text-white",type:"button",onClick:function(){W(),t()}}," ","Si"," "))))))}}))}))}),[d,X]),$=Object(j.b)({initialValues:E,enableReinitialize:!0,onSubmit:function(e){var t={camposEstudio:d.camposEstudio.map((function(t){for(var a in e)if(a===t.nombre)return"FECHA"===t.tipo?e[a]?V(V({},t),{},{valor:e[a].format("DD/MM/YYYY")}):V({},t):V(V({},t),{},{valor:e[a].toString()})}))};X({variables:{id:d.id,input:t}}).then((function(e){var t=e.data,a=e.error;if(a){var o="Hubo un error al actualizar la informacion.";return a.graphQLErrors&&a.graphQLErrors.length>0&&a.graphQLErrors.map((function(e){o+="\n".concat(e.message," ")})),void Object(u.a)("error",o)}t.setResultEstudio&&(Object(u.a)("success","Los datos del estudio fueron actualizados correctamente."),te(t.setResultEstudio.id))}))}});function ee(e){return e.isBefore(m()())&&e.isSameOrAfter(m()(d.fechaSolicitud).utc())}var te=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];z({variables:{id:e},useCache:!1}).then((function(e){var a=e.data,o=e.error;if(o){console.log(o);var r="Hubo un error al obtener la informaci\xf3n del estudio.";return o.graphQLErrors&&o.graphQLErrors.length>0&&o.graphQLErrors.map((function(e){r+="\n".concat(e.message," ")})),void Object(u.a)("error",r)}a&&a.getEstudioPorOrden&&(t?(J(a.getEstudioPorOrden.ordenID.proveedorID.id,a.getEstudioPorOrden.ordenID.proveedorID.tipo),b(a.getEstudioPorOrden),h(re(a.getEstudioPorOrden.camposEstudio)),D(V(V({},ae(a.getEstudioPorOrden.camposEstudio,a.getEstudioPorOrden.estudioID.camposEstudio,a.getEstudioPorOrden.estadoEstudio)),{},{estadoEstudio:a.getEstudioPorOrden.estadoEstudio,fechaReporte:a.getEstudioPorOrden.fechaReporte?m()(a.getEstudioPorOrden.fechaReporte).utc():"",tipoDeMuestraID:a.getEstudioPorOrden.tipoDeMuestraID.id,codigoInterno:a.getEstudioPorOrden.codigoInterno}))):($.setFieldValue("fechaReporte",a.getEstudioPorOrden.fechaReporte?m()(a.getEstudioPorOrden.fechaReporte).utc():""),b(V(V({},d),{},{estadoEstudio:a.getEstudioPorOrden.estadoEstudio,fechaReporte:a.getEstudioPorOrden.fechaReporte?m()(a.getEstudioPorOrden.fechaReporte).utc():"",camposEstudio:a.getEstudioPorOrden.camposEstudio})))),i(!1)}))};Object(l.useEffect)((function(){t&&te(t,!0)}),[t]),Object(l.useEffect)((function(){if(d&&d.estudioID)switch(d.estudioID.id){case"604e2602cc5c345ec442f32e":if($.values.cutoff_igg&&$.values.cutoff_igm&&$.values.factor_multiplicador){var e=m()(d.fechaSolicitud).utc();if(m()(e.format("YYYY-MM-DD")).isSameOrBefore("2022-01-14")){if($.values.valor_igg){var t=Number(Number($.values.valor_igg)*Number($.values.factor_multiplicador)/Number($.values.cutoff_igg)).toFixed(1),a=Object(Y.q)(d.camposEstudio,"resultado_igg","unidad"),o=Object(Y.n)(t,Number($.values.factor_multiplicador));$.setFieldValue("resultado_igg","".concat(t," ").concat(a," ").concat(o))}if($.values.valor_igm){var r=Number(Number($.values.valor_igm)*Number($.values.factor_multiplicador)/Number($.values.cutoff_igm)).toFixed(1),l=Object(Y.q)(d.camposEstudio,"resultado_igg","unidad"),n=Object(Y.n)(r,Number($.values.factor_multiplicador));$.setFieldValue("resultado_igm","".concat(r," ").concat(l," ").concat(n))}}if(m()(e.format("YYYY-MM-DD")).isSameOrAfter("2022-01-15")){if($.values.valor_igg){var s=.02*Number($.values.cutoff_igg)+.36,i=Number(Number($.values.valor_igg)/Number(s)).toFixed(1),u=Object(Y.o)(i,Number($.values.factor_multiplicador));$.setFieldValue("resultado_igg","".concat(i," ").concat(u))}if($.values.valor_igm){var c=.02*Number($.values.cutoff_igm)+.16,f=Number(Number($.values.valor_igm)/Number(c)).toFixed(1),b=Object(Y.o)(f,Number($.values.factor_multiplicador));$.setFieldValue("resultado_igm","".concat(f," ").concat(b))}}}break;case"6136babfce956300042d7537":if($.values.cutoff&&$.values.valor_muestra){var v=Object(Y.b)($.values.valor_muestra,$.values.cutoff),g=Object(Y.k)(v);$.setFieldValue("resultado","".concat(v,"% (").concat(g,")"))}break;case"60b7eda8cae2e600045e04e9":if($.values.total_normales_13&&$.values.total_13){var p=Number($.values.total_13)-Number($.values.total_normales_13);$.setFieldValue("total_anormales_13",p)}if($.values.total_normales_21&&$.values.total_21){var h=Number($.values.total_21)-Number($.values.total_normales_21);$.setFieldValue("total_anormales_21",h)}if($.values.total_normales_18&&$.values.total_18){var _=Number($.values.total_18)-Number($.values.total_normales_18);$.setFieldValue("total_anormales_18",_)}if($.values.total_normales_xy&&$.values.total_xy){var O=Number($.values.total_xy)-Number($.values.total_normales_xy);$.setFieldValue("total_anormales_xy",O)}if($.values.total_anormales_13&&$.values.anormales_d_13){var N=Number($.values.total_anormales_13)-Number($.values.anormales_d_13);$.setFieldValue("anormales_n_13",N)}if($.values.total_anormales_21&&$.values.anormales_d_21){var x=Number($.values.total_anormales_21)-Number($.values.anormales_d_21);$.setFieldValue("anormales_n_21",x)}if($.values.total_anormales_18&&$.values.anormales_d_18){var E=Number($.values.total_anormales_18)-Number($.values.anormales_d_18);$.setFieldValue("anormales_n_18",E)}if($.values.total_anormales_xy&&$.values.anormales_d_xy){var j=Number($.values.total_anormales_xy)-Number($.values.anormales_d_xy);$.setFieldValue("anormales_n_xy",j)}if($.values.total_normales_13&&$.values.total_13&&$.values.total_normales_21&&$.values.total_21&&$.values.total_normales_18&&$.values.total_18&&$.values.total_normales_xy&&$.values.total_xy){var D=Number($.values.total_normales_13)/Number($.values.total_13),y=Number($.values.total_normales_21)/Number($.values.total_21),w=Number($.values.total_normales_18)/Number($.values.total_18),I=Number($.values.total_normales_xy)/Number($.values.total_xy),P=D*y*w,R=Math.pow(P,1/3),S=I*Math.pow(R,22)*100;$.setFieldValue("interpretacion","Se estima un: ".concat(Number(S).toFixed(2)," % De espermatozoides sin aberraci\xf3n cromos\xf3mica alguna."))}break;case"60b959f6092ae30004224ddb":var C=m()(d.fechaSolicitud).utc();if(m()(C.format("YYYY-MM-DD")).isSameOrBefore("2021-11-25")){if($.values.cutoff&&$.values.valor_muestra){var k=Object(Y.a)($.values.valor_muestra,$.values.cutoff),M=Object(Y.g)(k);$.setFieldValue("resultado","".concat(k," (").concat(M,")"))}}else if($.values.cutoff&&$.values.valor_muestra){var F=Object(Y.b)($.values.valor_muestra,$.values.cutoff),V=Object(Y.k)(F);$.setFieldValue("resultado","".concat(F,"% (").concat(V,")"))}break;case"614b01eb3eb6000004ce023c":if($.values.b_directa&&$.values.b_indirecta){var A=Number($.values.b_directa)+Number($.values.b_indirecta);$.setFieldValue("b_total",A)}case"6156725908b9d500040b0dc6":if($.values.polimorfonucleares){var q=100-Number($.values.polimorfonucleares);$.setFieldValue("mononucleares",q)}}}),[$.values]);var ae=function(e,t,a){var o={},r=t.filter((function(e){if(e.esCambiante)return e}));return"RECIBIDO"===a&&(r.length>0&&r.forEach((function(t){e.forEach((function(a,o){a.nombre===t.nombre&&(t.valorPorDefecto&&(e[o].valorPorDefecto=t.valorPorDefecto,e[o].valor=t.valorPorDefecto),e[o].unidad=t.unidad)}))})),t.forEach((function(t){e.forEach((function(a,o){a.nombre===t.nombre&&(e[o].referencia=t.referencia,e[o].unidad=t.unidad,e[o].opciones=t.opciones,e[o].formulaValidation=t.formulaValidation)}))}))),e.map((function(e){o[e.nombre]=e.valor?oe(e.valor,e.tipo):e.valorPorDefecto})),o},oe=function(e,t){return"FECHA"===t?e?m()(e,"DD/MM/YYYY").utc():"":e},re=function(e,t){var a=[],o=[],r=0,l=e.filter((function(e){if("DIVISOR"==e.tipo)return r>0&&(a[r-1].campos=o),a.push({index:r,title:e.label,active:!1,campos:[],content:null}),o=[],r++,e;r>0&&o.push(e)}));return o.length>0&&a.length>0&&(a[r-1].campos=o),"count"===t?l.length:a};if(r||!t)return M(x.a,{title:"",description:""},M(N.a,{css:q,size:80,color:"#000"}));var le=[{index:0,title:"Datos del Estudio",content:M(j.a,{initialValues:{estadoEstudio:d.estadoEstudio,fechaReporte:d.fechaReporte?m()(d.fechaReporte).utc():"",tipoDeMuestraID:d.tipoDeMuestraID.id,codigoInterno:d.codigoInterno},onSubmit:Z},(function(e){return M("form",{onSubmit:e.handleSubmit},M("div",{className:"w-full sm:w-full md:w-full lg:w-2/4 xl:w-1/4 mb-2"},d.fechaReporte?M("div",{className:"form-element"},M("div",{className:"form-label"},"Fecha del informe"),M(y.a,{locale:"es",name:"fechaReporte",dateFormat:"DD-MM-YYYY",timeFormat:!1,isValidDate:ee,input:!0,closeOnSelect:!0,inputProps:{className:"form-input",placeholder:"Seleccione una fecha"},viewMode:"days",value:e.values.fechaReporte,onChange:function(t){e.setFieldValue("fechaReporte",t)}})):null,d.estudioID.tipoDeMuestras.length>1?M("div",{className:"form-element"},M("div",{className:"form-label"},"Tipo de Muestra"),M("select",{className:"form-select",name:"tipoDeMuestraID",placeholder:"Seleccione",onChange:e.handleChange,value:e.values.tipoDeMuestraID},M("option",{value:""},"Seleccione una opcion"),d.estudioID.tipoDeMuestras.map((function(e,t){return M("option",{key:"tdm".concat(t),value:e.id},e.nombre)})))):null,M("div",{className:"form-element"},M("div",{className:"form-label"},"Estado del Estudio"),M("select",{className:"form-select",name:"estadoEstudio",placeholder:"Seleccione una opcion",onChange:e.handleChange,value:e.values.estadoEstudio},M("option",{value:"RECIBIDO"},"Recibido"),M("option",{value:"EN_PROCESO"},"En Proceso"),M("option",{value:"PROCESADO"},"Procesado"),M("option",{value:"CANCELADO"},"Cancelado"),M("option",{value:"NO_PROCESADO"},"No Procesado"))),d.codigoInterno?M("div",{className:"form-element"},M("div",{className:"form-label"},"Codigo Interno"),M("input",{name:"codigoInterno",type:"text",className:"focus:outline-none form-input ".concat(e.errors.codigoInterno?"form-input-invalid":""," "),placeholder:"",onChange:e.handleChange,value:e.values.codigoInterno})):null),d.ordenID.nota?M("div",{className:"text-base mb-1 pl-3 mt-5"},M("span",{className:"mr-1"},"Nota/Informaci\xf3n clinica Relevante:"),M("span",{className:"font-bold text-red-500"},d.ordenID.nota)):null,M("div",null,M("button",{type:"submit",disabled:!e.isValid,className:"btn btn-default bg-blue-600 mx-auto hover:bg-blue-700 text-white btn-rounded mr-2"},"Guardar"),d.fechaReporte?M(n.a.Fragment,null,M(C.a,{size:"big",disabled:!1,estudio:d,cliente:d.ordenID.clientID,showConfirm:!0}),A.length>0?M("div",null,M("button",{className:"btn btn-default bg-blue-600 hover:bg-blue-700 text-white btn-rounded btn-icon",onClick:function(e){W()}},M("span",{className:"mr-2"},"Notificar Resultado"),M(I.o,{className:"stroke-current",size:20}))):null):null))}))},{index:1,title:"Emisi\xf3n de Resultados",content:M("div",null,M("p",{className:"text-right mb-2"},M(_.a,{href:"/estudios/edit/".concat(d.estudioID.id)},M("a",{className:"link self-end"},"Editar Valores Estudio"))),M("div",{className:"flex bg-white flex-col lg:flex-row lg:flex-wrap w-full mb-5"},M(R.a,{tabs:p,config:d.camposEstudio,formik:$,editable:"PROCESADO"===d.estadoEstudio}),M("button",{type:"submit",disabled:!$.isValid,onClick:function(e){return $.handleSubmit($.values)},className:"btn btn-default bg-blue-600 mx-auto hover:bg-blue-700 text-white btn-rounded"},"Guardar")))},{index:2,title:"Documentos adjuntos",content:M(P.a,{estudioOrderId:t})}];return M(x.a,{description:"Estudio: ".concat(d.estudioID.nombre," | ").concat(d.codigoEstudio).concat(d.estudioNumero)},M(k.a,{tabs:le}))},Q=n.a.createElement;function T(){var e=Object(r.a)(['\n  display: block;\n  margin: 0 auto;\n  border-color: "#000";\n']);return T=function(){return e},e}var z=Object(c.css)(T());t.default=Object(b.a)((function(){Object(v.b)().userInformation;var e=Object(l.useState)(!0),t=e[0],a=e[1],r=Object(i.useRouter)(),n=r.query.id,c=Object(l.useState)([]),d=c[0],b=c[1],h=Object(l.useState)(null),O=h[0],E=h[1],j=Object(l.useState)(null),D=j[0],y=j[1],w=Object(s.c)(f.j),I=Object(o.a)(w,1)[0];return Object(l.useEffect)((function(){var e;r.query.id&&(e=r.query.id,I({variables:{id:e}}).then((function(e){var t=e.data,o=e.error;if(o){var r="Hubo un error al obtener los datos de la orden.";return o.graphQLErrors&&o.graphQLErrors.length>0&&o.graphQLErrors.map((function(e){r+="\n".concat(e.message," ")})),void Object(u.a)("error",r)}if(t&&t.getOrdenDetalles){var l=[];l.push({title:"Inicio",url:"/dashboard",last:!1}),l.push({title:"Proceso de Resultados Orden ".concat(t.getOrden.ordenNumero),url:"/processing/orden/".concat(t.getOrden.id),last:!0}),b(l),E(t.getOrdenDetalles),y(t.getOrden)}a(!1)})))}),[r.query]),Object(l.useEffect)((function(){}),[]),Q("div",null,Q("div",{className:"flex flex-row mb-4"},Q("div",{className:"w-full"},Q(g.a,{items:d,home:!0,icon:"arrow"}))),t||!n?Q("div",{className:"w-full px-4"},Q("div",null,Q(N.a,{css:z,size:80,color:"#000"}))):Q("div",{className:"w-full px-4"},Q(p.a,{title:"Orden No. ".concat(D.ordenNumero," "),subtitle:Q(_.a,{href:"/pacientes/detalle/".concat(D.clientID.id)},Q("div",{className:"text-xl font-bold"},"Paciente:",Q("a",{className:"link"}," ".concat(D.clientID.nombres," ").concat(D.clientID.apellidos))))}),Q(x.a,{title:"",description:Q("span",null,"Datos generales")},Q("div",{className:"flex flex-col lg:flex-row lg:flex-wrap w-full lg:space-x-4"},Q("div",{className:"flex flex-col w-3/4"},Q(_.a,{href:"/orden/detail/".concat(D.id)},Q("div",{className:"text-sm mb-1"},"Orden No:",Q("a",{className:"link"}," ".concat(D.ordenNumero)))),Q("div",{className:"text-sm mb-1"},"Fecha Solicitud:"," ","".concat(m()(D.fechaSolicitud).utc().format("DD/MM/YYYY"))),Q("div",{className:"text-sm mb-1"},"Tipo de cliente: ",D.proveedorID.nombre),D.nota?Q("div",{className:"text-sm mb-1"},"Nota/Informaci\xf3n clinica Relevante: ",estudio.ordenID.nota):null))),O.map((function(e){return Q(L,{key:e.id,id:e.id})}))))}))},Ifti:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/processing/orden/[id]",function(){return a("Cao4")}])},TSYQ:function(e,t,a){var o;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=n(e,l(a)))}return e}function l(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)a.call(e,o)&&e[o]&&(t=n(t,o));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},ftaV:function(e,t,a){"use strict";var o=a("q1tI"),r=a.n(o),l=a("TSYQ"),n=a.n(l),s=r.a.createElement;t.a=function(e){var t=e.className,a=e.round,o=e.height,r=e.width;return s("div",{className:n()(t,"shimmer","shimmer-line",{"shimmer-round":a}),style:{height:o,width:r}})}},hKE6:function(e,t,a){"use strict";var o=a("xvhg"),r=a("q1tI"),l=a.n(r),n=a("jRMg"),s=l.a.createElement,i=function(e){var t=e.accept,a=void 0===t?[]:t,o=e.onChange;return s("div",null,s("div",{className:"relative h-40 rounded-lg border-dashed border-2 border-gray-200 bg-white flex justify-center items-center hover:cursor-pointer"},s("div",{className:"absolute"},s("div",{className:"flex flex-col items-center"},s("span",{className:"block text-blue-400 font-normal"},"Haz click aqu\xed para cargar un archivo"))),s("input",{type:"file",className:"h-full w-full opacity-0",accept:a.join(","),onChange:o})),s("div",{className:"flex justify-between items-center text-gray-400"},s("span",null,"Solo se aceptan archivos de tipo: PDF, DOC, DOCX, JPG, PNG"),s("span",{className:"flex items-center "},"Max. 5MB")))},u=a("ma3e"),c=a("ftaV"),d=a("n7fY"),m=l.a.createElement,f=function(e){var t=e.id,a=e.fileName,o=e.fileURL,l=e.loading,n=e.mimeType,s=e.onRemove,i=Object(r.useCallback)((function(){s&&s(t)}),[t]);return l?m("div",null,m(c.a,{height:"10px",className:"mb-1"}),m(c.a,{height:"10px",width:"20%"})):m("div",{className:"flex items-start justify-start p-2 space-x-4"},m("div",{className:"flex flex-col w-full"},m("div",{className:"text-sm font-bold"},a),m("div",{className:"text-sm text-gray-500"},n)),m("div",{className:"flex-shrink-0"},m("a",{className:"btn btn-default bg-transparent bg-rounded hover:bg-blue-50 hover:text-blue-600 text-blue-500",href:o,target:"_blank"},"DESCARGAR"),m(d.a,{color:"danger",flat:!0,rounded:!0,onClick:i},m(u.i,{style:{display:"inline"}}))))},b=a("VreA"),v=a("iX8M"),g=l.a.createElement;t.a=function(e){var t=e.estudioOrderId,a=Object(r.useState)(),l=a[0],s=a[1],u=Object(n.e)(b.a,{variables:{id:t},refetchAfterMutations:[{mutation:v.b},{mutation:v.C}]}),c=(u.loading,u.data),d=Object(n.d)(v.b),m=Object(o.a)(d,2),p=m[0],h=m[1].loading,_=Object(n.d)(v.C),O=Object(o.a)(_,1)[0],N=Object(r.useCallback)((function(e){var a=e.target;a.validity&&p({variables:{id:t,file:a.files[0]}})}),[t]),x=Object(r.useCallback)((function(e){confirm("Estas seguro de eliminar?")&&(s(e),O({variables:{id:t,fileId:e}}))}),[t]),E=Object(r.useMemo)((function(){return(null===c||void 0===c?void 0:c.getEstudioPorOrden)?c.getEstudioPorOrden.attachmentFiles:[]}),[c]);return g("div",null,g("div",{className:"w-full mb-4"},E.map((function(e){return g(f,{id:e.id,fileName:e.name,fileURL:e.url,mimeType:e.mimeType,onRemove:x,loading:l===e.id})})),h&&g(f,{loading:!0})),g(i,{accept:[".pdf",".doc",".docx",".jpg",".png"],onChange:N}))}},n7fY:function(e,t,a){"use strict";var o=a("q1tI"),r=a.n(o),l=a("TSYQ"),n=a.n(l),s=r.a.createElement;t.a=function(e){var t=e.children,a=e.circle,o=e.color,r=e.flat,l=e.rounded,i=e.onClick;return s("button",{className:n()("btn btn-default",{"bg-blue-500":!r&&null==o,"bg-red-500":!r&&null!=o,"bg-transparent":r,"bg-rounded":l,"bg-circle":a,"hover:bg-blue-50":null==o,"hover:bg-red-50":"danger"===o,"hover:text-blue-600":null==o,"hover:text-red-600":"danger"===o,"text-blue-500":r&&null==o,"text-red-500":r&&"danger"===o,"text-white":!r}),onClick:i},t)}}},[["Ifti",0,1,4,10,5,11,7,22,25,2,3,6,8,9,12,14,13,15,18,26,28,33]]]);