_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[98],{"6Rqd":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("nKUr"),o=a("q1tI"),s=function(e){var t=e.tabs,a=Object(o.useState)(0),s=a[0],l=a[1];return Object(r.jsxs)("div",{className:"flex flex-wrap flex-col w-full tabs",children:[Object(r.jsx)("div",{className:"flex lg:flex-wrap flex-row lg:space-x-2",children:t.map((function(e,t){return Object(r.jsx)("div",{className:"flex-none",children:Object(r.jsx)("button",{onClick:function(){l(e.index)},className:s===e.index?"tab tab-underline tab-active":"tab tab-underline",type:"button",children:e.title})},t)}))}),t.map((function(e,t){return Object(r.jsx)("div",{className:"tab-content ".concat(s!==e.index?"hidden":"block"),children:e.content},t)}))]})}},"Evr+":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/processing/estudio/EstudioFromOrden3",function(){return a("HlrA")}])},HlrA:function(e,t,a){"use strict";a.r(t);var r=a("cpVT"),o=a("xvhg"),s=a("jT3O"),l=a("nKUr"),n=a("q1tI"),i=a("jRMg"),c=a("nOHt"),u=a("KYPV"),d=a("YFqc"),b=a.n(d),m=a("qGs6"),f=a.n(m),v=a("qKvR"),j=a("y2g3"),O=a.n(j),h=a("wd/R"),g=a.n(h),p=a("IGOO"),x=a("L4s6"),_=a("6nGu"),N=a("gWdR"),E=a("Tgqd"),D=a("IqVg"),y=a("hKE6"),w=a("02nw"),P=a("VreA"),I=a("iX8M"),R=(a("DFyN"),a("TCCB")),C=a("B3WN"),S=a("6Rqd"),Y=a("z0WU");function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(){var e=Object(s.a)(['\n  display: block;\n  margin: 0 auto;\n  border-color: "#000";\n']);return k=function(){return e},e}var V=Object(v.css)(k());t.default=function(e){var t=e.ID,a=Object(n.useState)(!0),r=a[0],s=a[1],d=Object(n.useState)([]),m=d[0],v=d[1],j=Object(n.useState)([]),h=j[0],F=j[1],k=Object(n.useState)(null),A=k[0],q=k[1],T=Object(n.useState)({}),U=T[0],L=T[1],K=Object(n.useState)([]),z=K[0],Q=K[1],B=Object(n.useState)([]),H=(B[0],B[1],Object(R.b)().userInformation,Object(c.useRouter)()),G=t,X=Object(i.c)(P.i),J=Object(o.a)(X,1)[0],W=Object(i.c)(P.x),Z=Object(o.a)(W,1)[0],$=Object(i.c)(P.lb),ee=Object(o.a)($,1)[0],te=Object(i.d)(I.K),ae=Object(o.a)(te,1)[0],re=function(e,t){"PARTICULAR"!==t&&Z({variables:{id:e}}).then((function(e){var t=e.data;e.eror;t.findUsersOfProvider&&t.findUsersOfProvider.length>0&&Q(t.findUsersOfProvider)}))},oe=function(){var e=[];z.map((function(t){e.push(t.email)})),ee({variables:{emails:e,compania:h.ordenID.proveedorID.nombre}}).then((function(){Object(D.a)("success","Email enviado.")}))},se=Object(u.b)({initialValues:U,enableReinitialize:!0,onSubmit:function(e){var t,a,r,o={camposEstudio:h.camposEstudio.map((function(t){for(var a in e)if(a===t.nombre)return"FECHA"===t.tipo?e[a]?M(M({},t),{},{valor:e[a].format("DD/MM/YYYY")}):M({},t):M(M({},t),{},{valor:e[a].toString()})})),estadoEstudio:e.estadoEstudio,fechaReporte:(t=h.estadoEstudio,a=e.estadoEstudio,r=e.fechaReporte,"PROCESADO"===a?t!=a?g()().format("YYYY-MM-DD"):r.format("YYYY-MM-DD"):""),tipoDeMuestraID:e.tipoDeMuestraID,codigoInterno:e.codigoInterno};"PROCESADO"===e.estadoEstudio&&["60901bc42cd46b000451e5f6","604d353635df190004250e5b"].includes(h.estudioID.id)&&""===Object(Y.q)(o.camposEstudio,"resultado")?Object(D.a)("error","El campo resultado no puede ir vacio."):ae({variables:{id:h.id,input:o}}).then((function(t){var a=t.data,r=t.error;if(r){console.log(r);var o="Hubo un error al actualizar la informacion.";return r.graphQLErrors&&r.graphQLErrors.length>0&&r.graphQLErrors.map((function(e){o+="\n".concat(e.message," ")})),void Object(D.a)("error",o)}a.setResultEstudio&&(Object(D.a)("success","Los datos del estudio fueron actualizados correctamente."),le(a.setResultEstudio.id),z.length>0&&"PROCESADO"===e.estadoEstudio&&Object(p.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"modal-backdrop fade-in"}),Object(l.jsx)("div",{className:"modal show ","data-background":"light",children:Object(l.jsx)("div",{className:"relative w-auto lg:my-4 mx-auto lg:max-w-lg max-w-sm",children:Object(l.jsxs)("div",{className:"bg-white text-gray-900 border-gray-200 dark:bg-gray-800 dark:text-white dark:border-gray-700 border-0 rounded-lg shadow-lg relative flex flex-col w-full outline-none",children:[Object(l.jsx)("div",{className:"relative p-4 flex-auto",children:Object(l.jsx)("div",{className:"flex items-start justify-start p-2 space-x-4",children:Object(l.jsx)("div",{className:"flex flex-col w-full",children:Object(l.jsxs)("div",{className:"text-lg mb-2 font-bold",children:["\xbfDeseas informar via email a la empresa"," ",h.ordenID.proveedorID.nombre," sobre el resultado de este estudio ?"]})})})}),Object(l.jsxs)("div",{className:"flex items-center justify-end p-4 border-t border-gray-200 dark:border-gray-700 border-solid rounded-b space-x-2",children:[Object(l.jsxs)("button",{className:"btn btn-default btn-rounded bg-white hover:bg-gray-100 text-gray-900",type:"button",onClick:t,children:[" ","No"," "]}),Object(l.jsxs)("button",{className:"btn btn-default btn-rounded bg-green-500 hover:bg-green-600 text-white",type:"button",onClick:function(){oe(),t()},children:[" ","Si"," "]})]})]})})})]})}}))}))}});var le=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];J({variables:{id:e},useCache:!1}).then((function(a){var r=a.data,o=a.error;if(o){console.log(o);var l="Hubo un error al obtener la informaci\xf3n del estudio.";return o.graphQLErrors&&o.graphQLErrors.length>0&&o.graphQLErrors.map((function(e){l+="\n".concat(e.message," ")})),Object(D.a)("error",l),void H.push("/areas")}if(r&&r.getEstudioPorOrden)if(t){re(r.getEstudioPorOrden.ordenID.proveedorID.id,r.getEstudioPorOrden.ordenID.proveedorID.tipo),F(r.getEstudioPorOrden);var n=[];n.push({title:"Estudios de ".concat(r.getEstudioPorOrden.areaDeEstudioID.nombre," ").concat(r.getEstudioPorOrden.estadoEstudio),url:"/processing/".concat(r.getEstudioPorOrden.areaDeEstudioID.id,"?estado=").concat(r.getEstudioPorOrden.estadoEstudio),last:!1}),n.push({title:"".concat(r.getEstudioPorOrden.estudioID.nombre," - ").concat(r.getEstudioPorOrden.codigoEstudio).concat(r.getEstudioPorOrden.estudioNumero," "),url:"/processing/estudio/".concat(e),last:!0}),v(n),q(ce(r.getEstudioPorOrden.camposEstudio)),L(M(M({},ne(r.getEstudioPorOrden.camposEstudio,r.getEstudioPorOrden.estudioID.camposEstudio,r.getEstudioPorOrden.estadoEstudio)),{},{estadoEstudio:r.getEstudioPorOrden.estadoEstudio,fechaReporte:r.getEstudioPorOrden.fechaReporte?g()(r.getEstudioPorOrden.fechaReporte).utc():"",tipoDeMuestraID:r.getEstudioPorOrden.tipoDeMuestraID.id,codigoInterno:r.getEstudioPorOrden.codigoInterno}))}else se.setFieldValue("fechaReporte",r.getEstudioPorOrden.fechaReporte?g()(r.getEstudioPorOrden.fechaReporte).utc():""),F(M(M({},h),{},{estadoEstudio:r.getEstudioPorOrden.estadoEstudio,fechaReporte:r.getEstudioPorOrden.fechaReporte?g()(r.getEstudioPorOrden.fechaReporte).utc():"",camposEstudio:r.getEstudioPorOrden.camposEstudio}));s(!1)}))};Object(n.useEffect)((function(){t&&le(t,!0)}),[t]),Object(n.useEffect)((function(){if(h&&h.estudioID)switch(h.estudioID.id){case"604e2602cc5c345ec442f32e":if(se.values.cutoff_igg&&se.values.cutoff_igm&&se.values.factor_multiplicador){var e=g()(h.fechaSolicitud).utc();if(g()(e.format("YYYY-MM-DD")).isSameOrBefore("2022-01-14")){if(se.values.valor_igg){var t=Number(Number(se.values.valor_igg)*Number(se.values.factor_multiplicador)/Number(se.values.cutoff_igg)).toFixed(1),a=Object(Y.q)(h.camposEstudio,"resultado_igg","unidad"),r=Object(Y.n)(t,Number(se.values.factor_multiplicador));se.setFieldValue("resultado_igg","".concat(t," ").concat(a," ").concat(r))}if(se.values.valor_igm){var o=Number(Number(se.values.valor_igm)*Number(se.values.factor_multiplicador)/Number(se.values.cutoff_igm)).toFixed(1),s=Object(Y.q)(h.camposEstudio,"resultado_igg","unidad"),l=Object(Y.n)(o,Number(se.values.factor_multiplicador));se.setFieldValue("resultado_igm","".concat(o," ").concat(s," ").concat(l))}}if(g()(e.format("YYYY-MM-DD")).isSameOrAfter("2022-01-15")){if(se.values.valor_igg){var n=.02*Number(se.values.cutoff_igg)+.36,i=Number(Number(se.values.valor_igg)/Number(n)).toFixed(1),c=Object(Y.o)(i,Number(se.values.factor_multiplicador));se.setFieldValue("resultado_igg","".concat(i," ").concat(c))}if(se.values.valor_igm){var u=.02*Number(se.values.cutoff_igm)+.16,d=Number(Number(se.values.valor_igm)/Number(u)).toFixed(1),b=Object(Y.o)(d,Number(se.values.factor_multiplicador));se.setFieldValue("resultado_igm","".concat(d," ").concat(b))}}}break;case"6136babfce956300042d7537":if(se.values.cutoff&&se.values.valor_muestra){var m=Object(Y.b)(se.values.valor_muestra,se.values.cutoff),f=Object(Y.k)(m);se.setFieldValue("resultado","".concat(m,"% (").concat(f,")"))}break;case"60b7eda8cae2e600045e04e9":if(se.values.total_normales_13&&se.values.total_13){var v=Number(se.values.total_13)-Number(se.values.total_normales_13);se.setFieldValue("total_anormales_13",v)}if(se.values.total_normales_21&&se.values.total_21){var j=Number(se.values.total_21)-Number(se.values.total_normales_21);se.setFieldValue("total_anormales_21",j)}if(se.values.total_normales_18&&se.values.total_18){var O=Number(se.values.total_18)-Number(se.values.total_normales_18);se.setFieldValue("total_anormales_18",O)}if(se.values.total_normales_xy&&se.values.total_xy){var p=Number(se.values.total_xy)-Number(se.values.total_normales_xy);se.setFieldValue("total_anormales_xy",p)}if(se.values.total_anormales_13&&se.values.anormales_d_13){var x=Number(se.values.total_anormales_13)-Number(se.values.anormales_d_13);se.setFieldValue("anormales_n_13",x)}if(se.values.total_anormales_21&&se.values.anormales_d_21){var _=Number(se.values.total_anormales_21)-Number(se.values.anormales_d_21);se.setFieldValue("anormales_n_21",_)}if(se.values.total_anormales_18&&se.values.anormales_d_18){var N=Number(se.values.total_anormales_18)-Number(se.values.anormales_d_18);se.setFieldValue("anormales_n_18",N)}if(se.values.total_anormales_xy&&se.values.anormales_d_xy){var E=Number(se.values.total_anormales_xy)-Number(se.values.anormales_d_xy);se.setFieldValue("anormales_n_xy",E)}if(se.values.total_normales_13&&se.values.total_13&&se.values.total_normales_21&&se.values.total_21&&se.values.total_normales_18&&se.values.total_18&&se.values.total_normales_xy&&se.values.total_xy){var D=Number(se.values.total_normales_13)/Number(se.values.total_13),y=Number(se.values.total_normales_21)/Number(se.values.total_21),w=Number(se.values.total_normales_18)/Number(se.values.total_18),P=Number(se.values.total_normales_xy)/Number(se.values.total_xy),I=D*y*w,R=Math.pow(I,1/3),C=P*Math.pow(R,22)*100;se.setFieldValue("interpretacion","Se estima un: ".concat(Number(C).toFixed(2)," % De espermatozoides sin aberraci\xf3n cromos\xf3mica alguna."))}break;case"60b959f6092ae30004224ddb":var S=g()(h.fechaSolicitud).utc();if(g()(S.format("YYYY-MM-DD")).isSameOrBefore("2021-11-25")){if(se.values.cutoff&&se.values.valor_muestra){var F=Object(Y.a)(se.values.valor_muestra,se.values.cutoff),M=Object(Y.g)(F);se.setFieldValue("resultado","".concat(F," (").concat(M,")"))}}else if(se.values.cutoff&&se.values.valor_muestra){var k=Object(Y.b)(se.values.valor_muestra,se.values.cutoff),V=Object(Y.k)(k);se.setFieldValue("resultado","".concat(k,"% (").concat(V,")"))}break;case"614b01eb3eb6000004ce023c":if(se.values.b_directa&&se.values.b_indirecta){var A=Number(se.values.b_directa)+Number(se.values.b_indirecta);se.setFieldValue("b_total",A)}case"6156725908b9d500040b0dc6":if(se.values.polimorfonucleares){var q=100-Number(se.values.polimorfonucleares);se.setFieldValue("mononucleares",q)}}}),[se.values]);var ne=function(e,t,a){var r={},o=t.filter((function(e){if(e.esCambiante)return e}));return"RECIBIDO"===a&&(o.length>0&&o.forEach((function(t){e.forEach((function(a,r){a.nombre===t.nombre&&(t.valorPorDefecto&&(e[r].valorPorDefecto=t.valorPorDefecto,e[r].valor=t.valorPorDefecto),e[r].unidad=t.unidad)}))})),t.forEach((function(t){e.forEach((function(a,r){a.nombre===t.nombre&&(e[r].referencia=t.referencia,e[r].unidad=t.unidad,e[r].opciones=t.opciones,e[r].formulaValidation=t.formulaValidation)}))}))),e.map((function(e){r[e.nombre]=e.valor?ie(e.valor,e.tipo):e.valorPorDefecto})),r},ie=function(e,t){return"FECHA"===t?e?g()(e,"DD/MM/YYYY").utc():"":e},ce=function(e,t){var a=[],r=[],o=0,s=e.filter((function(e){if("DIVISOR"==e.tipo)return o>0&&(a[o-1].campos=r),a.push({index:o,title:e.label,active:!1,campos:[],content:null}),r=[],o++,e;o>0&&r.push(e)}));return r.length>0&&a.length>0&&(a[o-1].campos=r),"count"===t?s.length:a};if(r||!G)return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"flex flex-row mb-4",children:Object(l.jsx)("div",{className:"w-full",children:Object(l.jsx)(_.a,{items:m,home:!0,icon:"arrow"})})}),Object(l.jsx)("div",{className:"w-full px-4",children:Object(l.jsx)("div",{children:Object(l.jsx)(f.a,{css:V,size:80,color:"#000"})})})]});var ue=[{index:0,title:"Datos del Estudio",content:Object(l.jsxs)(N.a,{title:"",description:"",right:Object(l.jsx)(b.a,{href:"/estudios/edit/".concat(h.estudioID.id),children:Object(l.jsx)("a",{className:"link self-end",children:"Editar Valores Estudio"})}),children:[Object(l.jsxs)("div",{className:"w-full sm:w-full md:w-full lg:w-2/4 xl:w-1/4 pl-3 mb-2",children:[h.fechaReporte?Object(l.jsxs)("div",{className:"form-element",children:[Object(l.jsx)("div",{className:"form-label",children:"Fecha del informe"}),Object(l.jsx)(O.a,{locale:"es",name:"fechaReporte",dateFormat:"DD-MM-YYYY",timeFormat:!1,isValidDate:function(e){return e.isBefore(g()())&&e.isSameOrAfter(g()(h.fechaSolicitud).utc())},input:!0,closeOnSelect:!0,inputProps:{className:"form-input",placeholder:"Seleccione una fecha"},viewMode:"days",value:se.values.fechaReporte,onChange:function(e){se.setFieldValue("fechaReporte",e)}})]}):null,h.estudioID.tipoDeMuestras.length>1?Object(l.jsxs)("div",{className:"form-element",children:[Object(l.jsx)("div",{className:"form-label",children:"Tipo de Muestra"}),Object(l.jsxs)("select",{className:"form-select",name:"tipoDeMuestraID",placeholder:"Seleccione",onChange:se.handleChange,value:se.values.tipoDeMuestraID,children:[Object(l.jsx)("option",{value:"",children:"Seleccione una opcion"}),h.estudioID.tipoDeMuestras.map((function(e,t){return Object(l.jsx)("option",{value:e.id,children:e.nombre},"tdm".concat(t))}))]})]}):null,Object(l.jsxs)("div",{className:"form-element",children:[Object(l.jsx)("div",{className:"form-label",children:"Estado del Estudio"}),Object(l.jsxs)("select",{className:"form-select",name:"estadoEstudio",placeholder:"Seleccione una opcion",onChange:se.handleChange,value:se.values.estadoEstudio,children:[Object(l.jsx)("option",{value:"RECIBIDO",children:"Recibido"}),Object(l.jsx)("option",{value:"EN_PROCESO",children:"En Proceso"}),Object(l.jsx)("option",{value:"PROCESADO",children:"Procesado"}),Object(l.jsx)("option",{value:"CANCELADO",children:"Cancelado"}),Object(l.jsx)("option",{value:"NO_PROCESADO",children:"No Procesado"})]})]}),h.codigoInterno?Object(l.jsxs)("div",{className:"form-element",children:[Object(l.jsx)("div",{className:"form-label",children:"Codigo Interno"}),Object(l.jsx)("input",{name:"codigoInterno",type:"text",className:"focus:outline-none form-input ".concat(se.errors.codigoInterno?"form-input-invalid":""," "),placeholder:"",onChange:se.handleChange,value:se.values.codigoInterno})]}):null,h.fechaReporte?Object(l.jsxs)("div",{className:"mb-2",children:[Object(l.jsx)(C.a,{size:"big",disabled:!1,estudio:h,cliente:h.ordenID.clientID,showConfirm:!0}),z.length>0?Object(l.jsx)("div",{children:Object(l.jsxs)("button",{className:"btn btn-default bg-blue-600 hover:bg-blue-700 text-white btn-rounded btn-icon",onClick:function(e){oe()},children:[Object(l.jsx)("span",{className:"mr-2",children:"Notificar Resultado"}),Object(l.jsx)(E.o,{className:"stroke-current",size:20})]})}):null]}):null]}),h.ordenID.nota?Object(l.jsxs)("div",{className:"text-base mb-1 pl-3 mt-5",children:[Object(l.jsx)("span",{className:"mr-1",children:"Nota/Informaci\xf3n clinica Relevante:"}),Object(l.jsx)("span",{className:"font-bold text-red-500",children:h.ordenID.nota})]}):null]})},{index:1,title:"Emisi\xf3n de Resultados",content:Object(l.jsxs)("div",{className:"flex bg-white flex-col lg:flex-row lg:flex-wrap w-full mb-5",children:[Object(l.jsx)(w.a,{tabs:A,config:h.camposEstudio,formik:se,editable:"PROCESADO"===h.estadoEstudio}),Object(l.jsx)("button",{type:"submit",disabled:!se.isValid,onClick:function(e){return se.handleSubmit(se.values)},className:"btn btn-default bg-blue-600 mx-auto hover:bg-blue-700 text-white btn-rounded",children:"Guardar"})]})},{index:2,title:"Documentos adjuntos",content:Object(l.jsx)(N.a,{description:"",children:Object(l.jsx)(y.a,{estudioOrderId:G})})}];return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"w-full px-4",children:[Object(l.jsx)(x.a,{title:"Estudio: ".concat(h.estudioID.nombre," | ").concat(h.codigoEstudio).concat(h.estudioNumero),subtitle:""}),Object(l.jsx)(S.a,{tabs:ue})]})})}},TSYQ:function(e,t,a){var r;!function(){"use strict";var a={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=l(e,s(a)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)a.call(e,r)&&e[r]&&(t=l(t,r));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},ftaV:function(e,t,a){"use strict";var r=a("nKUr"),o=a("TSYQ"),s=a.n(o);t.a=function(e){var t=e.className,a=e.round,o=e.height,l=e.width;return Object(r.jsx)("div",{className:s()(t,"shimmer","shimmer-line",{"shimmer-round":a}),style:{height:o,width:l}})}},hKE6:function(e,t,a){"use strict";var r=a("xvhg"),o=a("nKUr"),s=a("q1tI"),l=a("jRMg"),n=function(e){var t=e.accept,a=void 0===t?[]:t,r=e.onChange;return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"relative h-40 rounded-lg border-dashed border-2 border-gray-200 bg-white flex justify-center items-center hover:cursor-pointer",children:[Object(o.jsx)("div",{className:"absolute",children:Object(o.jsx)("div",{className:"flex flex-col items-center",children:Object(o.jsx)("span",{className:"block text-blue-400 font-normal",children:"Haz click aqu\xed para cargar un archivo"})})}),Object(o.jsx)("input",{type:"file",className:"h-full w-full opacity-0",accept:a.join(","),onChange:r})]}),Object(o.jsxs)("div",{className:"flex justify-between items-center text-gray-400",children:[Object(o.jsx)("span",{children:"Solo se aceptan archivos de tipo: PDF, DOC, DOCX, JPG, PNG"}),Object(o.jsx)("span",{className:"flex items-center ",children:"Max. 5MB"})]})]})},i=a("ma3e"),c=a("ftaV"),u=a("n7fY"),d=function(e){var t=e.id,a=e.fileName,r=e.fileURL,l=e.loading,n=e.mimeType,d=e.onRemove,b=Object(s.useCallback)((function(){d&&d(t)}),[t]);return l?Object(o.jsxs)("div",{children:[Object(o.jsx)(c.a,{height:"10px",className:"mb-1"}),Object(o.jsx)(c.a,{height:"10px",width:"20%"})]}):Object(o.jsxs)("div",{className:"flex items-start justify-start p-2 space-x-4",children:[Object(o.jsxs)("div",{className:"flex flex-col w-full",children:[Object(o.jsx)("div",{className:"text-sm font-bold",children:a}),Object(o.jsx)("div",{className:"text-sm text-gray-500",children:n})]}),Object(o.jsxs)("div",{className:"flex-shrink-0",children:[Object(o.jsx)("a",{className:"btn btn-default bg-transparent bg-rounded hover:bg-blue-50 hover:text-blue-600 text-blue-500",href:r,target:"_blank",children:"DESCARGAR"}),Object(o.jsx)(u.a,{color:"danger",flat:!0,rounded:!0,onClick:b,children:Object(o.jsx)(i.i,{style:{display:"inline"}})})]})]})},b=a("VreA"),m=a("iX8M");t.a=function(e){var t=e.estudioOrderId,a=Object(s.useState)(),i=a[0],c=a[1],u=Object(l.e)(b.a,{variables:{id:t},refetchAfterMutations:[{mutation:m.b},{mutation:m.C}]}),f=(u.loading,u.data),v=Object(l.d)(m.b),j=Object(r.a)(v,2),O=j[0],h=j[1].loading,g=Object(l.d)(m.C),p=Object(r.a)(g,1)[0],x=Object(s.useCallback)((function(e){var a=e.target;a.validity&&O({variables:{id:t,file:a.files[0]}})}),[t]),_=Object(s.useCallback)((function(e){confirm("Estas seguro de eliminar?")&&(c(e),p({variables:{id:t,fileId:e}}))}),[t]),N=Object(s.useMemo)((function(){return(null===f||void 0===f?void 0:f.getEstudioPorOrden)?f.getEstudioPorOrden.attachmentFiles:[]}),[f]);return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"w-full mb-4",children:[N.map((function(e){return Object(o.jsx)(d,{id:e.id,fileName:e.name,fileURL:e.url,mimeType:e.mimeType,onRemove:_,loading:i===e.id})})),h&&Object(o.jsx)(d,{loading:!0})]}),Object(o.jsx)(n,{accept:[".pdf",".doc",".docx",".jpg",".png"],onChange:x})]})}},n7fY:function(e,t,a){"use strict";var r=a("nKUr"),o=a("TSYQ"),s=a.n(o);t.a=function(e){var t=e.children,a=e.circle,o=e.color,l=e.flat,n=e.rounded,i=e.onClick;return Object(r.jsx)("button",{className:s()("btn btn-default",{"bg-blue-500":!l&&null==o,"bg-red-500":!l&&null!=o,"bg-transparent":l,"bg-rounded":n,"bg-circle":a,"hover:bg-blue-50":null==o,"hover:bg-red-50":"danger"===o,"hover:text-blue-600":null==o,"hover:text-red-600":"danger"===o,"text-blue-500":l&&null==o,"text-red-500":l&&"danger"===o,"text-white":!l}),onClick:i,children:t})}}},[["Evr+",0,1,4,10,5,11,7,22,25,2,3,6,8,9,12,14,13,15,18,26,28,33]]]);