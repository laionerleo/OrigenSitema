_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[111],{IqVg:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));e("wd/R");var i=e("FGyW"),o=(e("jDDT"),function(n,t){i.b[n](t,{position:"top-right",autoClose:"error"===n?4e3:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})})},L4s6:function(n,t,e){"use strict";var i=e("nKUr");t.a=function(n){var t=n.title,e=n.subtitle,o=n.right,d=void 0===o?null:o;return Object(i.jsx)("div",{className:"section-title w-full mb-6 pt-3",children:Object(i.jsxs)("div",{className:"flex flex-row items-center justify-between mb-4",children:[Object(i.jsxs)("div",{className:"flex flex-col",children:[Object(i.jsx)("div",{className:"text-xs uppercase font-light text-gray-500",children:t}),Object(i.jsx)("div",{className:"text-xl font-bold",children:e})]}),d]})})}},QQO1:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/usuarios",function(){return e("c8ga")}])},c8ga:function(n,t,e){"use strict";e.r(t);var i=e("xvhg"),o=e("jT3O"),d=e("nKUr"),r=e("q1tI"),u=e("jRMg"),a=e("5zZm"),s=e("IqVg"),c=(e("TCCB"),e("6nGu")),l=e("L4s6"),p=e("nOHt"),m=(e("b1/7"),e("nqad"),e("iX8M")),f=e("VreA"),b=e("DFyN"),$=e("qGs6"),j=e.n($),h=e("qKvR"),O=e("NIcq");function v(){var n=Object(o.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: '#000';\n"]);return v=function(){return n},n}var I=Object(h.css)(v()),x={reactiveData:!0,layout:"fitColumns",pagination:"local",paginationSize:30};t.default=Object(b.a)((function(){var n=Object(u.c)(f.db),t=Object(i.a)(n,1)[0],e=Object(u.d)(m.S),o=Object(i.a)(e,1)[0],b=Object(r.useState)([]),$=b[0],h=b[1],v=Object(r.useState)(!0),g=v[0],P=v[1],E=Object(r.useState)(!1),w=E[0],D=E[1],C=Object(p.useRouter)(),S=[{title:"Inicio",url:"/dashboard",last:!1},{title:"Gestion de usuarios",url:"/usuarios",last:!0}],N=function(){t({useCache:!0}).then((function(n){var t=n.data;if(n.error)return P(!1),void D(!1);t.getUsers&&(h(t.getUsers),D(!1),P(!1))}))},z=function(n){switch(n.cell._cell.row.data.role){case"default":return Object(d.jsx)("p",{children:"Recepcionista"});case"contabilidad":return Object(d.jsx)("p",{children:"Contabilidad"});case"contabilidad_":return Object(d.jsx)("p",{children:"Contabilidad + "});case"doc":return Object(d.jsx)("p",{children:"Doctor/Especialista"});case"admin":return Object(d.jsx)("p",{children:"Administrador"});case"super_admin":return Object(d.jsx)("p",{children:"Super Admin"});default:return Object(d.jsx)("p",{children:" Se debe actualizar"})}},U=function(n){var t=n.cell._cell.row.data;return Object(d.jsx)("p",{children:t.approved?"SI":"NO"})},y=function(n){var t=n.cell._cell.row.data;return Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"inline-block p-1 text-center mx-1 text-white transition bg-blue-500 rounded-full shadow ripple hover:shadow-lg hover:bg-blue-600 focus:outline-none",onClick:function(){C.push("/usuarios/detalle/".concat(t.id))},children:Object(d.jsx)(O.a,{})})})},A=[{title:"",field:"custom",headerSort:!1,width:60,hozAlign:"center",formatter:Object(a.reactFormatter)(Object(d.jsx)(y,{}))},{title:"Nombre",field:"nombre"},{title:"Apellido",field:"apellido"},{title:"Email",field:"email"},{title:"Rol",field:"role",editor:"select",headerSort:!1,editorParams:{values:[{label:"SuperAdmin",value:"super_admin"},{label:"Administrador",value:"admin"},{label:"Contabilidad",value:"contabilidad"},{label:"Contabilidad +",value:"contabilidad_"},{label:"Recepcionista",value:"default"},{label:"Doctor/Especialista",value:"doc"}]},cellEdited:function(n){var t=n.getRow().getData(),e=t.id,i=t.role;o({variables:{input:{id:e,role:i}}}).then((function(n){var t=n.data;n.error?Object(s.a)("error","Hubo un error al actualizar la informacion."):t.updateSystemUserPrivilegesUser&&Object(s.a)("success","Se actualizaron los privilegios del usuario correctamente.")}))},formatter:Object(a.reactFormatter)(Object(d.jsx)(z,{}))},{title:"Habilitado",field:"approved",editor:"select",headerSort:!1,editorParams:{values:[{label:"SI",value:!0},{label:"NO",value:!1}]},cellEdited:function(n){var t=n.getRow().getData(),e=t.id,i=t.approved;o({variables:{input:{id:e,approved:i}}}).then((function(n){var t=n.data;n.error?Object(s.a)("error","Hubo un error al actualizar la informacion."):t.updateSystemUserPrivilegesUser&&Object(s.a)("success","Se actualiz\xf3 el permiso para acceder al sistema.")}))},formatter:Object(a.reactFormatter)(Object(d.jsx)(U,{}))}];return Object(r.useEffect)((function(){N()}),[]),g?Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"flex flex-row mb-4",children:Object(d.jsx)("div",{className:"w-full",children:Object(d.jsx)(c.a,{items:S,home:!0,icon:"arrow"})})}),Object(d.jsx)("div",{className:"w-full px-4",children:Object(d.jsx)("div",{children:Object(d.jsx)(j.a,{css:I,size:80,color:"#000"})})})]}):Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"w-full px-1",children:[Object(d.jsx)("div",{className:"flex flex-row mb-4",children:Object(d.jsx)("div",{className:"w-full",children:Object(d.jsx)(c.a,{items:S,home:!0,icon:"arrow"})})}),Object(d.jsx)(l.a,{title:"",subtitle:"Gestion de Usuarios"}),Object(d.jsxs)("div",{className:"inputs w-full py-0 px-0",children:[Object(d.jsx)("div",{className:"w-full px-3",children:Object(d.jsxs)("button",{className:"inline-block px-6 py-1 mt-0 mb-3 text-xs font-medium leading-6 text-center text-white uppercase transition bg-blue-700 rounded-full shadow ripple hover:shadow-lg hover:bg-blue-800 focus:outline-none float-right",type:"submit",onClick:function(n){n.preventDefault(),D(!0),N()},children:[w?Object(d.jsxs)("svg",{className:" inline-block animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,w?"Actualizando ":"Actualizar "]})}),Object(d.jsx)("div",{className:"w-full",children:Object(d.jsx)(a.ReactTabulator,{ref:function(n){return n},columns:A,data:$,options:x})})]})]})})}))},iX8M:function(n,t,e){"use strict";e.d(t,"B",(function(){return i})),e.d(t,"L",(function(){return o})),e.d(t,"J",(function(){return d})),e.d(t,"F",(function(){return r})),e.d(t,"c",(function(){return u})),e.d(t,"t",(function(){return a})),e.d(t,"T",(function(){return s})),e.d(t,"H",(function(){return c})),e.d(t,"G",(function(){return l})),e.d(t,"M",(function(){return p})),e.d(t,"D",(function(){return m})),e.d(t,"N",(function(){return f})),e.d(t,"S",(function(){return b})),e.d(t,"j",(function(){return $})),e.d(t,"z",(function(){return j})),e.d(t,"r",(function(){return h})),e.d(t,"e",(function(){return O})),e.d(t,"f",(function(){return v})),e.d(t,"k",(function(){return I})),e.d(t,"A",(function(){return x})),e.d(t,"h",(function(){return g})),e.d(t,"P",(function(){return P})),e.d(t,"v",(function(){return E})),e.d(t,"n",(function(){return w})),e.d(t,"p",(function(){return D})),e.d(t,"a",(function(){return C})),e.d(t,"s",(function(){return S})),e.d(t,"l",(function(){return N})),e.d(t,"i",(function(){return z})),e.d(t,"y",(function(){return U})),e.d(t,"q",(function(){return y})),e.d(t,"I",(function(){return A})),e.d(t,"Q",(function(){return F})),e.d(t,"R",(function(){return _})),e.d(t,"E",(function(){return R})),e.d(t,"g",(function(){return T})),e.d(t,"x",(function(){return M})),e.d(t,"o",(function(){return k})),e.d(t,"w",(function(){return H})),e.d(t,"b",(function(){return V})),e.d(t,"C",(function(){return q})),e.d(t,"K",(function(){return B})),e.d(t,"O",(function(){return G})),e.d(t,"d",(function(){return Q})),e.d(t,"u",(function(){return K})),e.d(t,"m",(function(){return X}));var i="\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      id\n      token\n      email\n      nombre\n      apellido\n      role\n      compania\n      areasDeEstudio {\n        nombre\n        id\n      }\n    }\n  }\n",o="\n  mutation createUser($input: UserInput) {\n    createUser(input: $input)\n  }\n",d="\nmutation setPassword($hash: String!, $password: String!) {\n  setPassword(hash: $hash, password: $password)\n}\n",r="\nmutation forgotPassword($email: String!) {\n  forgotPassword(email: $email)\n}\n",u="\n  mutation addClient($input: ClientInput) {\n    addClient(input: $input) {\n      id\n      nombres\n      apellidos\n      ci\n      fecha_nacimiento\n      telefono\n      municipio\n      departamento\n      direccion\n      sexo\n      edad\n    }\n  }\n",a="\n  mutation editClient($input: ClientEditInput) {\n    editClient(input: $input) {\n      id\n      nombres\n      apellidos\n      ci\n      fecha_nacimiento\n      telefono\n      municipio\n      departamento\n      direccion\n      sexo\n      edad\n    }\n  }\n",s="\nmutation editTipoFicha($id: ID!, $tipoFicha: String!) {\n  editTipoFicha(id: $id, tipoFicha: $tipoFicha) {\n    codigo\n  }\n}\n",c="\nmutation setCodigoInterno($id: ID!, $codigoInterno: String!) {\n  setCodigoInterno(id: $id, codigoInterno: $codigoInterno) {\n    codigoInterno\n  }\n}\n",l="\n  mutation setConciliacionFicha($input: FichaConciliacionInput) {\n    setConciliacionFicha(input: $input) {\n      codigo\n    }\n  }\n",p="\nmutation loadReports($informes: [Reportes]) {\n  loadReports(informes: $informes)\n}\n",m="\n  mutation deleteClient($id: ID) {\n    deleteClient(id: $id)\n  }\n",f="\nmutation updateUser($input: UserEditInput) {\n  updateUser(input: $input) {\n    id\n    email\n    nombre\n    apellido\n    role\n    permissions\n    approved\n    compania\n    keywords\n  }\n}\n",b="\n  mutation updateSystemUserPrivilegesUser($input: UserPrivilegesInput) {\n    updateSystemUserPrivilegesUser(input: $input) {\n      id\n      nombre\n      role\n      approved\n    }\n  }\n",$="\nmutation addTipoDeMuestra($input: TipoDeMuestraInput) {\n  addTipoDeMuestra(input: $input) {\n    nombre\n    description\n    estatus\n    id\n  }\n}\n",j="\nmutation editTipoDeMuestra($id: ID!, $input: TipoDeMuestraInput) {\n  editTipoDeMuestra(id: $id, input: $input) {\n    nombre\n    description\n    id\n    estatus\n  }\n}\n",h="\nmutation deleteTipoDeMuestra($id: ID!) {\n  deleteTipoDeMuestra(id: $id)\n}\n",O="\nmutation addEstudio($input: EstudioInput) {\n  addEstudio(input: $input) {\n    id\n    nombre\n    codigo\n    description\n    metodo\n    estatus\n    areaDeEstudioID {\n      nombre\n    }\n    tipoDeMuestras {\n      nombre\n    }\n  }\n}\n",v="\nmutation addHistorial($input: HistorialPrecioPorProveedorInput) {\n    addHistorial(input: $input) {\n        id\n        precio\n        fecha_inicio    \n        fecha_limite    \n        estudioID\n        proveedorID\n  }\n}\n",I="\nmutation addVacuna($input: VacunaInput) {\n    addVacuna(input: $input) {\n        id\n        dosisPrimera\n        dosisSegunda\n        dosisUnica\n        dosisRefuerzoPrimero\n        dosisRefuerzoSegundo\n        clientID\n        fechaUltimoTest\n  }\n}\n",x="\nmutation editVacuna($input: VacunaEditInput) {\n    editVacuna(input: $input) {\n        id\n        dosisPrimera\n        dosisSegunda\n        dosisUnica\n        dosisRefuerzoPrimero\n        dosisRefuerzoSegundo\n        fechaUltimoTest\n    }\n}\n",g="\nmutation addPerfil($input: PerfilInput) {\n  addPerfil(input: $input) {\n    id\n    nombre\n    estatus\n    estudios {\n      id\n      nombre\n      precio\n    }\n  }\n}\n",P="\nmutation updatePerfil($id: ID!, $input: PerfilInput) {\n  updatePerfil(id: $id, input: $input) {\n    id\n    nombre\n    estatus\n    estudios {\n      id\n      nombre\n      precio\n    }\n  }\n}\n",E="\nmutation editEstudio($id: ID!, $input: EstudioInput) {\n  editEstudio(id: $id, input: $input) {\n    id\n    nombre\n    codigo\n    description\n    metodo\n    estatus\n    areaDeEstudioID {\n      nombre\n    }\n    tipoDeMuestras {\n      nombre\n    }\n  }\n}\n",w="\nmutation deleteEstudio($id: ID!) {\n  deleteEstudio(id: $id)\n}\n",D="\nmutation deletePerfil($id: ID!) {\n  deletePerfil(id: $id)\n}\n",C="\nmutation addAreaEstudio($input: AreaEstudioInput) {\n  addAreaEstudio(input: $input) {\n    nombre\n    id\n  }\n}\n",S="\nmutation editAreaEstudio($id: ID!, $input: AreaEstudioInput) {\n  editAreaEstudio(id: $id, input: $input) {\n    nombre\n    id\n  }\n}\n",N="\nmutation deleteAreaEstudio($id: ID!) {\n  deleteAreaEstudio(id: $id)\n}\n",z="\nmutation addProveedor($input: ProveedorInput) {\n  addProveedor(input: $input) {\n    id\n    nombre\n    description\n    estatus\n  }\n}\n",U="\nmutation editProveedor($id: ID!, $input: ProveedorInput) {\n  editProveedor(id: $id, input: $input) {\n    id\n    nombre\n    description\n    estatus\n  }\n}\n",y="\nmutation deleteProveedor($id: ID!) {\n  deleteProveedor(id: $id)\n}\n",A="\nmutation setPrecioEstudio($input: PreciosPorOrdenInput) {\n  setPrecioEstudio(input: $input) {\n    id\n  }\n}\n",F="\nmutation updatePrecioProveedor($id: ID!, $input: PreciosPorOrdenInput) {\n  updatePrecioProveedor(id: $id, input: $input) {\n    id\n  }\n}\n",_="\nmutation updatePrecioOrdenPorEstudio($id: ID!, $input: PreciosPorOrdenEstudioInput) {\n  updatePrecioOrdenPorEstudio(id: $id, input: $input) {\n    id\n  }\n}\n",R="\nmutation deleteItem($id: ID!) {\n  deleteItem(id: $id)\n}\n",T="\nmutation addOrden($input: OrdenInput, $estudios: [EstudioPorOrdenInput]) {\n  addOrden(input: $input, estudios: $estudios) {\n    id\n    fechaSolicitud\n  }\n}\n",M="\nmutation editOrden($id: ID!, $input: OrdenInput, $estudios: [EstudioEditPrecio]) {\n  editOrden(id: $id, input: $input, estudios: $estudios) {\n    id\n  }\n}\n",k="\nmutation deleteOrden($id: ID!) {\n  deleteOrden(id: $id)\n}\n",H="\nmutation editDataEstudio($id: ID!, $input: EstudioPorOrdenEditSimpleInput) {\n  editDataEstudio(id: $id, input: $input) {\n    id\n    codigoEstudio\n  }\n}\n",V="\nmutation addAttachmentFileEstudioPorOrden($id: ID, $file: Upload) {\n  addAttachmentFileEstudioPorOrden(id: $id, file: $file) {\n    id\n    attachmentFiles {\n      id\n      name\n      mimeType\n      url\n    }\n  }\n}\n",q="\nmutation removeAttachmentFileEstudioPorOrden($id: ID, $fileId: ID) {\n  removeAttachmentFileEstudioPorOrden(id: $id, fileId: $fileId) {\n    id\n    attachmentFiles {\n      id\n      name\n      mimeType\n      url\n    }\n  }\n}\n",B="\nmutation setResultEstudio($id: ID!, $input: EstudioPorOrdenSetResultInput) {\n  setResultEstudio(id: $id, input: $input) {\n    id\n    codigoEstudio\n  }\n}\n",G="\nmutation updateOrderByFile($ordenes: [OrdenConciliacionByFileInput]) {\n  updateOrderByFile(ordenes: $ordenes)\n}\n",Q="\nmutation addCotizacion($input: CotizacionInput, $estudios: [EstudioPorCotizacionInput]) {\n  addCotizacion(input: $input, estudios: $estudios) {\n    id\n    fechaSolicitud\n  }\n}\n",K="\nmutation editCotizacion($id: ID!, $input: CotizacionInput, $estudios: [EstudioEditPrecio]) {\n  editCotizacion(id: $id, input: $input, estudios: $estudios) {\n    id\n  }\n}\n",X="\nmutation deleteCotizacion($id: ID!) {\n  deleteCotizacion(id: $id)\n}\n"}},[["QQO1",0,1,4,10,5,11,7,20,35,2,3,6,8,9,12,14,13,19,21]]]);